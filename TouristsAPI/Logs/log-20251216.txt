{"Timestamp":"2025-12-16T00:59:21.0116596+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T00:59:24.0203437+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T00:59:24.0237550+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T00:59:24.0244887+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T00:59:26.4802721+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"86","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":12}}
{"Timestamp":"2025-12-16T00:59:26.5135607+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":12}}
{"Timestamp":"2025-12-16T00:59:26.5773617+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"55","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":12}}
{"Timestamp":"2025-12-16T00:59:26.8288744+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":16}}
{"Timestamp":"2025-12-16T00:59:26.9090750+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":4}}
{"Timestamp":"2025-12-16T00:59:26.9147036+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":12}}
{"Timestamp":"2025-12-16T00:59:26.9371698+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"12","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":4}}
{"Timestamp":"2025-12-16T00:59:27.0202170+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":4}}
{"Timestamp":"2025-12-16T00:59:27.0748763+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"13","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":4}}
{"Timestamp":"2025-12-16T00:59:28.7881953+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"12","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":16}}
{"Timestamp":"2025-12-16T00:59:29.5246840+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"45","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":17}}
{"Timestamp":"2025-12-16T00:59:30.3756012+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T00:59:30.8698682+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T00:59:31.8083016+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":17}}
{"Timestamp":"2025-12-16T00:59:31.8314192+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T00:59:31.8326631+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T00:59:31.8337586+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T00:59:31.8694856+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:fd3a79f6 has started in 7.0329 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:fd3a79f6 has started in 7.0329 ms"}]}}
{"Timestamp":"2025-12-16T00:59:31.8727813+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":17}}
{"Timestamp":"2025-12-16T00:59:31.8746152+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":17}}
{"Timestamp":"2025-12-16T00:59:31.8753542+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":17}}
{"Timestamp":"2025-12-16T00:59:32.0318686+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 successfully announced in 158.1284 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 successfully announced in 158.1284 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0376747+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:2a166a39 has started in 3.3893 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:2a166a39 has started in 3.3893 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0395144+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T00:59:32.0487838+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:87a4d68c has started in 5.1437 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:87a4d68c has started in 5.1437 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0548388+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:8e4a9b2e has started in 1.9577 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:8e4a9b2e has started in 1.9577 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0574229+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:a27c306e has started in 2.3625 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:a27c306e has started in 2.3625 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0602644+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:f4da8c4d has started in 1.4142 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:f4da8c4d has started in 1.4142 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0650266+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:68434c48 has started in 4.9821 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:68434c48 has started in 4.9821 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0690424+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T00:59:32.0713232+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:bde8b98a has started in 10.5612 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:bde8b98a has started in 10.5612 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0774219+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'AggregatedCounter' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'AggregatedCounter' table..."}]}}
{"Timestamp":"2025-12-16T00:59:32.0820531+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:75a817ef has started in 21.2851 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:75a817ef has started in 21.2851 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0855371+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:b41b48ae has started in 24.7665 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:b41b48ae has started in 24.7665 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0874728+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:dfa50803 has started in 26.7083 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:dfa50803 has started in 26.7083 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0894616+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:81f627d8 has started in 28.7096 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:81f627d8 has started in 28.7096 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0934291+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:30c2ef8a has started in 32.6552 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:30c2ef8a has started in 32.6552 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0944199+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1a67a1ee has started in 33.6751 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1a67a1ee has started in 33.6751 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0948542+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:be1dbd64 has started in 34.1126 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:be1dbd64 has started in 34.1126 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0958981+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:54e88761 has started in 35.1572 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:54e88761 has started in 35.1572 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0962707+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:aaa81102 has started in 35.5189 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:aaa81102 has started in 35.5189 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0967504+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d24fb6cf has started in 36.0021 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d24fb6cf has started in 36.0021 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.0981294+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a6dc428f has started in 37.3651 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a6dc428f has started in 37.3651 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1006050+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:e404cc51 has started in 39.8558 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:e404cc51 has started in 39.8558 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1016045+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3e9ebf09 has started in 40.8563 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3e9ebf09 has started in 40.8563 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1020012+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:c2dda88c has started in 41.2469 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:c2dda88c has started in 41.2469 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1029754+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:46b124be has started in 42.2351 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:46b124be has started in 42.2351 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1034608+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:6385d40c has started in 42.7232 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:6385d40c has started in 42.7232 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1045159+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:6820de0a has started in 43.7711 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:6820de0a has started in 43.7711 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1047519+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:60a8c58d has started in 44.0217 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:60a8c58d has started in 44.0217 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1072665+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d80d9a99 has started in 46.516 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":44},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d80d9a99 has started in 46.516 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1086609+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:b736fb12 has started in 1.2117 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":45},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:b736fb12 has started in 1.2117 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1091541+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:43aa1428 has started in 0.474 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":46},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:43aa1428 has started in 0.474 ms"}]}}
{"Timestamp":"2025-12-16T00:59:32.1096477+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T00:59:32.5545774+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Job' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Job' table..."}]}}
{"Timestamp":"2025-12-16T00:59:33.0813556+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'List' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'List' table..."}]}}
{"Timestamp":"2025-12-16T00:59:33.0869991+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Set' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Set' table..."}]}}
{"Timestamp":"2025-12-16T00:59:33.0927254+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Hash' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Hash' table..."}]}}
{"Timestamp":"2025-12-16T00:59:34.3443618+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"3 recurring job(s) processed by scheduler.","SourceContext":"Hangfire.Server.RecurringJobScheduler","MachineName":"linux","ThreadId":46},"Renderings":{"State":[{"Format":"l","Rendering":"3 recurring job(s) processed by scheduler."}]}}
{"Timestamp":"2025-12-16T00:59:34.4587015+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"18","parameters":"@__oneHourAgo_0='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id], [t0].[AvailableSeats], [t0].[CreatedAt], [t0].[DeletedAt], [t0].[IsDeleted], [t0].[RowVersion], [t0].[StartTime], [t0].[TourId], [t0].[UpdatedAt]\nFROM [Bookings] AS [b]\nLEFT JOIN (\n    SELECT [t].[Id], [t].[AvailableSeats], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[RowVersion], [t].[StartTime], [t].[TourId], [t].[UpdatedAt]\n    FROM [TourSchedule] AS [t]\n    WHERE [t].[IsDeleted] = CAST(0 AS bit)\n) AS [t0] ON [b].[TourScheduleId] = [t0].[Id]\nWHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Status] = N'Pending' AND [b].[BookingDate] < @__oneHourAgo_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":4}}
{"Timestamp":"2025-12-16T00:59:34.4636785+02:00","Level":"Information","MessageTemplate":"No booking in the database","Properties":{"SourceContext":"TouristsService.JobService","MachineName":"linux","ThreadId":4}}
{"Timestamp":"2025-12-16T00:59:34.5125173+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"@__thresholdDate_0='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [f].[Id], [f].[ContentType], [f].[CreatedAt], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[IsDeleted], [f].[OriginalName], [f].[Size], [f].[UpdatedAt], [f].[UserId]\nFROM [FileRecords] AS [f]\nWHERE [f].[IsDeleted] = CAST(1 AS bit) AND [f].[DeletedAt] < @__thresholdDate_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":16}}
{"Timestamp":"2025-12-16T00:59:34.5143493+02:00","Level":"Information","MessageTemplate":"No Files found","Properties":{"SourceContext":"TouristsService.JobService","MachineName":"linux","ThreadId":16}}
{"Timestamp":"2025-12-16T00:59:35.0480915+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"68","parameters":"@__startWindow_0='?' (DbType = DateTime2), @__endWindow_1='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t2].[Id], [t2].[City], [t2].[Country], [t2].[CreatedAt], [t2].[DeletedAt], [t2].[Description], [t2].[DurationMinutes], [t2].[GuideProfileId], [t2].[IsDeleted], [t2].[IsPublished], [t2].[MaxGroupSize], [t2].[Price], [t2].[Title], [t2].[UpdatedAt], [t0].[Id], [t0].[AvailableSeats], [t0].[CreatedAt], [t0].[DeletedAt], [t0].[IsDeleted], [t0].[RowVersion], [t0].[StartTime], [t0].[TourId], [t0].[UpdatedAt], [t4].[Id], [t4].[AvatarFileId], [t4].[Country], [t4].[CreatedAt], [t4].[DeletedAt], [t4].[FullName], [t4].[IsDeleted], [t4].[Phone], [t4].[UpdatedAt], [t4].[UserId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r0].[UserId], [r0].[Id], [r0].[CreatedOn], [r0].[ExpiresOn], [r0].[RevokedOn], [r0].[Token]\nFROM [Bookings] AS [b]\nLEFT JOIN (\n    SELECT [t].[Id], [t].[AvailableSeats], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[RowVersion], [t].[StartTime], [t].[TourId], [t].[UpdatedAt]\n    FROM [TourSchedule] AS [t]\n    WHERE [t].[IsDeleted] = CAST(0 AS bit)\n) AS [t0] ON [b].[TourScheduleId] = [t0].[Id]\nINNER JOIN (\n    SELECT [t1].[Id], [t1].[City], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Description], [t1].[DurationMinutes], [t1].[GuideProfileId], [t1].[IsDeleted], [t1].[IsPublished], [t1].[MaxGroupSize], [t1].[Price], [t1].[Title], [t1].[UpdatedAt]\n    FROM [Tours] AS [t1]\n    WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n) AS [t2] ON [b].[TourId] = [t2].[Id]\nINNER JOIN (\n    SELECT [t3].[Id], [t3].[AvatarFileId], [t3].[Country], [t3].[CreatedAt], [t3].[DeletedAt], [t3].[FullName], [t3].[IsDeleted], [t3].[Phone], [t3].[UpdatedAt], [t3].[UserId]\n    FROM [TouristProfiles] AS [t3]\n    WHERE [t3].[IsDeleted] = CAST(0 AS bit)\n) AS [t4] ON [b].[TouristId] = [t4].[Id]\nINNER JOIN (\n    SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit)\n) AS [u0] ON [t4].[UserId] = [u0].[Id]\nLEFT JOIN [RefreshToken] AS [r0] ON [u0].[Id] = [r0].[UserId]\nWHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Status] IN (N'Confirmed', N'Completed') AND DATEADD(minute, CAST(CAST([t2].[DurationMinutes] AS float) AS int), [t0].[StartTime]) >= @__startWindow_0 AND DATEADD(minute, CAST(CAST([t2].[DurationMinutes] AS float) AS int), [t0].[StartTime]) <= @__endWindow_1 AND NOT EXISTS (\n    SELECT 1\n    FROM [Reviews] AS [r]\n    WHERE [r].[IsDeleted] = CAST(0 AS bit) AND [r].[BookingId] = [b].[Id])\nORDER BY [b].[Id], [t0].[Id], [t2].[Id], [t4].[Id], [u0].[Id], [r0].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":4}}
{"Timestamp":"2025-12-16T00:59:35.0520544+02:00","Level":"Information","MessageTemplate":"No bookings found","Properties":{"SourceContext":"TouristsService.JobService","MachineName":"linux","ThreadId":4}}
{"Timestamp":"2025-12-16T01:00:02.0797489+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:00:04.3782562+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"1 recurring job(s) processed by scheduler.","SourceContext":"Hangfire.Server.RecurringJobScheduler","MachineName":"linux","ThreadId":46},"Renderings":{"State":[{"Format":"l","Rendering":"1 recurring job(s) processed by scheduler."}]}}
{"Timestamp":"2025-12-16T01:00:04.4007468+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__oneHourAgo_0='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id], [t0].[AvailableSeats], [t0].[CreatedAt], [t0].[DeletedAt], [t0].[IsDeleted], [t0].[RowVersion], [t0].[StartTime], [t0].[TourId], [t0].[UpdatedAt]\nFROM [Bookings] AS [b]\nLEFT JOIN (\n    SELECT [t].[Id], [t].[AvailableSeats], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[RowVersion], [t].[StartTime], [t].[TourId], [t].[UpdatedAt]\n    FROM [TourSchedule] AS [t]\n    WHERE [t].[IsDeleted] = CAST(0 AS bit)\n) AS [t0] ON [b].[TourScheduleId] = [t0].[Id]\nWHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Status] = N'Pending' AND [b].[BookingDate] < @__oneHourAgo_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":16}}
{"Timestamp":"2025-12-16T01:00:04.4019565+02:00","Level":"Information","MessageTemplate":"No booking in the database","Properties":{"SourceContext":"TouristsService.JobService","MachineName":"linux","ThreadId":16}}
{"Timestamp":"2025-12-16T01:00:32.0882324+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:01:02.0932201+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:01:32.1010895+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:02:02.1086688+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:02:08.2547556+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f805fac6fd1b6227cdd6a81684e571f4","SpanId":"44582c0e76d10f9e","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/swagger/swagger-ui-bundle.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8R:00000001","RequestPath":"/swagger/swagger-ui-bundle.js","ConnectionId":"0HNHS5NSG7U8R","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:02:08.3818135+02:00","Level":"Information","MessageTemplate":"Sending file. Request path: '{VirtualPath}'. Physical path: '{PhysicalPath}'","TraceId":"f805fac6fd1b6227cdd6a81684e571f4","SpanId":"44582c0e76d10f9e","Properties":{"VirtualPath":"/swagger-ui-bundle.js","PhysicalPath":"N/A","EventId":{"Id":2,"Name":"FileServed"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware","RequestId":"0HNHS5NSG7U8R:00000001","RequestPath":"/swagger/swagger-ui-bundle.js","ConnectionId":"0HNHS5NSG7U8R","MachineName":"linux","ThreadId":52}}
{"Timestamp":"2025-12-16T01:02:08.3898103+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f805fac6fd1b6227cdd6a81684e571f4","SpanId":"44582c0e76d10f9e","Properties":{"ElapsedMilliseconds":135.2017,"StatusCode":200,"ContentType":"text/javascript","ContentLength":1485241,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/swagger/swagger-ui-bundle.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8R:00000001","RequestPath":"/swagger/swagger-ui-bundle.js","ConnectionId":"0HNHS5NSG7U8R","MachineName":"linux","ThreadId":52}}
{"Timestamp":"2025-12-16T01:02:08.6006951+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cd45644e380428d014de98cb76d0f583","SpanId":"d9259a1d2c9cde14","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8R:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNHS5NSG7U8R","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:02:08.8235825+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cd45644e380428d014de98cb76d0f583","SpanId":"d9259a1d2c9cde14","Properties":{"ElapsedMilliseconds":222.8458,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8R:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNHS5NSG7U8R","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:02:32.1136225+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:03:02.1192753+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:03:32.1263397+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:04:02.1313858+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:04:32.1345838+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:04:32.4236709+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:05:02.1404669+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:05:27.6663461+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.6692940+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.7408079+02:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.7475923+02:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.7534430+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1","StatusCode":401,"Elapsed":75.830239,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5NSG7U8S:00000001","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"75.8302"}]}}
{"Timestamp":"2025-12-16T01:05:27.7660177+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.7876038+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73a4a8a5-4642-400c-bec6-704964457bd3","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.8121575+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73a4a8a5-4642-400c-bec6-704964457bd3","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.8230071+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":0.9242,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73a4a8a5-4642-400c-bec6-704964457bd3","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.8307726+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"73a4a8a5-4642-400c-bec6-704964457bd3","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.8656326+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":72.2951,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.8659380+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:27.8661287+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"RequestMethod":"POST","RequestPath":"/error/401","StatusCode":404,"Elapsed":103.642427,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5NSG7U8S:00000001","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"103.6424"}]}}
{"Timestamp":"2025-12-16T01:05:27.8669439+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b746119a426894d7c07610a78f308ecd","SpanId":"a3f2caeafb599f46","Properties":{"ElapsedMilliseconds":200.567,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:05:32.1453536+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:06:02.1529882+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:06:06.7765573+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:06:06.7789847+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:06:06.7807169+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"EndpointName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:06:06.8022217+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(TouristsCore.DTOS.Accounts.LoginDto)","Controller":"TouristsAPI.Controllers.AuthController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"702e74cc-d4e3-41c8-a24f-269902be6cbf","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:06:06.8412614+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"702e74cc-d4e3-41c8-a24f-269902be6cbf","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:06:06.8487608+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"702e74cc-d4e3-41c8-a24f-269902be6cbf","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:06:07.1258202+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [r].[Name]\nFROM [UserRoles] AS [u]\nINNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"702e74cc-d4e3-41c8-a24f-269902be6cbf","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":54}}
{"Timestamp":"2025-12-16T01:06:07.3882544+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nINSERT INTO [RefreshToken] ([UserId], [CreatedOn], [ExpiresOn], [RevokedOn], [Token])\nOUTPUT INSERTED.[Id]\nVALUES (@p0, @p1, @p2, @p3, @p4);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"702e74cc-d4e3-41c8-a24f-269902be6cbf","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:06:07.4386582+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [r].[Name]\nFROM [UserRoles] AS [u]\nINNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"702e74cc-d4e3-41c8-a24f-269902be6cbf","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:07.4792633+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":637.7098,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"702e74cc-d4e3-41c8-a24f-269902be6cbf","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:07.4877169+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"ObjectResultType":"OkObjectResult","Type":"TouristsCore.DTOS.Accounts.AuthResponseDto","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"702e74cc-d4e3-41c8-a24f-269902be6cbf","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:07.5356659+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","ElapsedMilliseconds":733.0087,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:07.5383977+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"EndpointName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:07.5444293+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"RequestMethod":"POST","RequestPath":"/api/Auth/Login","StatusCode":200,"Elapsed":765.242878,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5NSG7U8S:00000002","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"765.2429"}]}}
{"Timestamp":"2025-12-16T01:06:07.5473014+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"63d98d0044a74c41f45efc48e8250e0c","SpanId":"30b60fea401a3b75","Properties":{"ElapsedMilliseconds":770.7424,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:32.1581391+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:06:37.7290150+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Bookings/my-bookings","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:37.8053093+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"EndpointName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:37.8142751+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"RouteData":"{action = \"GetMyBookings\", controller = \"Bookings\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyBookings(TouristsAPI.Helpers.PaginationArg)","Controller":"TouristsAPI.Controllers.BookingsController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b412ac00-4295-42ae-97ca-e238a408769e","ActionName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:37.8219100+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"ActionName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b412ac00-4295-42ae-97ca-e238a408769e","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":49}}
{"Timestamp":"2025-12-16T01:06:37.8580479+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"elapsed":"6","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [t].[Id], [t].[AvatarFileId], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[FullName], [t].[IsDeleted], [t].[Phone], [t].[UpdatedAt], [t].[UserId]\nFROM [TouristProfiles] AS [t]\nWHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b412ac00-4295-42ae-97ca-e238a408769e","ActionName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:06:37.8952647+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"elapsed":"4","parameters":"@__tourist_Id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT COUNT(*)\nFROM [Bookings] AS [b]\nWHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[TouristId] = @__tourist_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b412ac00-4295-42ae-97ca-e238a408769e","ActionName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:06:37.9455485+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"elapsed":"12","parameters":"@__tourist_Id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [b0].[Id], [b0].[TicketCount], [b0].[PriceAtBooking] AS [Price], CAST([b0].[Status] AS nvarchar(max)) AS [Status], [b0].[BookingDate], [t0].[Title] AS [TourName], [t0].[City], [t2].[StartTime] AS [TourDate]\nFROM (\n    SELECT [b].[Id], [b].[BookingDate], [b].[PriceAtBooking], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId]\n    FROM [Bookings] AS [b]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[TouristId] = @__tourist_Id_0\n    ORDER BY [b].[BookingDate] DESC\n    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY\n) AS [b0]\nINNER JOIN (\n    SELECT [t].[Id], [t].[City], [t].[Title]\n    FROM [Tours] AS [t]\n    WHERE [t].[IsDeleted] = CAST(0 AS bit)\n) AS [t0] ON [b0].[TourId] = [t0].[Id]\nLEFT JOIN (\n    SELECT [t1].[Id], [t1].[StartTime]\n    FROM [TourSchedule] AS [t1]\n    WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n) AS [t2] ON [b0].[TourScheduleId] = [t2].[Id]\nORDER BY [b0].[BookingDate] DESC","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b412ac00-4295-42ae-97ca-e238a408769e","ActionName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:06:37.9531489+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"ActionName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":130.9433,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b412ac00-4295-42ae-97ca-e238a408769e","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:06:37.9536629+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"ObjectResultType":"OkObjectResult","Type":"TouristsAPI.Helpers.Pagination`1[[TouristsCore.DTOS.Booking.BookingTouristDto, TouristsCore, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b412ac00-4295-42ae-97ca-e238a408769e","ActionName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:06:37.9997638+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"ActionName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","ElapsedMilliseconds":185.2514,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:06:38.0001001+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"EndpointName":"TouristsAPI.Controllers.BookingsController.GetMyBookings (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:06:38.0004917+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"RequestMethod":"GET","RequestPath":"/api/Bookings/my-bookings","StatusCode":200,"Elapsed":269.936361,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5NSG7U8S:00000003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"269.9364"}]}}
{"Timestamp":"2025-12-16T01:06:38.0010765+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8228219e7aa762be15affd2f04f545cc","SpanId":"38dd8d8eda7ae3dc","Properties":{"ElapsedMilliseconds":272.0442,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Bookings/my-bookings","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000003","RequestPath":"/api/Bookings/my-bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:07:02.1635704+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:07:12.2468782+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":41,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Bookings","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:07:12.2474449+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:07:12.2514426+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"EndpointName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:07:12.2584448+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"RouteData":"{action = \"CreateBooking\", controller = \"Bookings\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(TouristsCore.DTOS.Booking.CreateBookingDto)","Controller":"TouristsAPI.Controllers.BookingsController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e1953ff-0d74-4d9e-91a4-d9b72a304608","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:07:12.2751283+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e1953ff-0d74-4d9e-91a4-d9b72a304608","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:07:12.3110208+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"elapsed":"6","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [t].[Id], [t].[AvailableSeats], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[RowVersion], [t].[StartTime], [t].[TourId], [t].[UpdatedAt], [t1].[Id], [t1].[City], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Description], [t1].[DurationMinutes], [t1].[GuideProfileId], [t1].[IsDeleted], [t1].[IsPublished], [t1].[MaxGroupSize], [t1].[Price], [t1].[Title], [t1].[UpdatedAt]\nFROM [TourSchedule] AS [t]\nINNER JOIN (\n    SELECT [t0].[Id], [t0].[City], [t0].[Country], [t0].[CreatedAt], [t0].[DeletedAt], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt]\n    FROM [Tours] AS [t0]\n    WHERE [t0].[IsDeleted] = CAST(0 AS bit)\n) AS [t1] ON [t].[TourId] = [t1].[Id]\nWHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e1953ff-0d74-4d9e-91a4-d9b72a304608","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:07:12.4374952+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"elapsed":"7","parameters":"@__8__locals1_userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[AvatarFileId], [s].[Country], [s].[CreatedAt], [s].[DeletedAt], [s].[FullName], [s].[IsDeleted], [s].[Phone], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted0], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt0], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [t].[Id], [t].[AvatarFileId], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[FullName], [t].[IsDeleted], [t].[Phone], [t].[UpdatedAt], [t].[UserId], [u0].[Id] AS [Id0], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt] AS [DeletedAt0], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted0], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt0], [u0].[UserName]\n    FROM [TouristProfiles] AS [t]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t].[UserId] = [u0].[Id]\n    WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[UserId] = @__8__locals1_userId_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id0] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e1953ff-0d74-4d9e-91a4-d9b72a304608","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:07:12.6611265+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p21='?' (Size = 8) (DbType = Binary), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET NOCOUNT ON;\nINSERT INTO [Bookings] ([BookingDate], [CreatedAt], [DeletedAt], [EndAt], [IsDeleted], [PriceAtBooking], [StartAt], [Status], [TicketCount], [TourId], [TourScheduleId], [TouristId], [UpdatedAt])\nOUTPUT INSERTED.[Id]\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);\nUPDATE [TourSchedule] SET [AvailableSeats] = @p13, [CreatedAt] = @p14, [DeletedAt] = @p15, [IsDeleted] = @p16, [StartTime] = @p17, [TourId] = @p18, [UpdatedAt] = @p19\nOUTPUT INSERTED.[RowVersion]\nWHERE [Id] = @p20 AND [RowVersion] = @p21;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5e1953ff-0d74-4d9e-91a4-d9b72a304608","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:07:12.7364391+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":461.0615,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5e1953ff-0d74-4d9e-91a4-d9b72a304608","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:07:12.7370489+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"ObjectResultType":"OkObjectResult","Type":"TouristsCore.DTOS.Booking.BookingResponseDto","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5e1953ff-0d74-4d9e-91a4-d9b72a304608","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:07:12.7437371+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","ElapsedMilliseconds":484.2301,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:07:12.7442952+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"EndpointName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:07:12.7445127+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"RequestMethod":"POST","RequestPath":"/api/Bookings","StatusCode":200,"Elapsed":496.828245,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5NSG7U8S:00000004","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"496.8282"}]}}
{"Timestamp":"2025-12-16T01:07:12.7452348+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"238dfd022dd35777e39298fd12ad3601","SpanId":"784d108cf89b147f","Properties":{"ElapsedMilliseconds":498.2441,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Bookings","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000004","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:07:32.1771009+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:07:50.6519766+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/3","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.6535983+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.6545655+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.6593250+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.6612293+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.7108779+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"elapsed":"16","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.7127728+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":51.3649,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.7133103+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.7136301+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":54.0539,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.7138525+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:07:50.7140781+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/3","StatusCode":400,"Elapsed":60.297091,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5NSG7U8S:00000005","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"60.2971"}]}}
{"Timestamp":"2025-12-16T01:07:50.7146423+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c6426674cfdd16297c61f4f12b7d868","SpanId":"c63bb8f219a5aa02","Properties":{"ElapsedMilliseconds":62.5852,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/3","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000005","RequestPath":"/api/Payment/Pay/3","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:08:02.1819323+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:08:03.7335413+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1003","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:08:03.7351144+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:08:03.7358593+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:08:03.7367816+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:08:03.7383161+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":60}}
{"Timestamp":"2025-12-16T01:08:03.7439454+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:08:03.7639361+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":25.3313,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:08:03.7645245+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"78a9e532-b604-47c0-a7db-a125e1a833eb","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:08:03.7649255+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":27.8419,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:08:03.7651811+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:08:03.7653501+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1003","StatusCode":400,"Elapsed":30.087001,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5NSG7U8S:00000006","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.0870"}]}}
{"Timestamp":"2025-12-16T01:08:03.7663363+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bcaff93e6cc1057934fa936fd0d810e8","SpanId":"0f4e21bbc2c737fd","Properties":{"ElapsedMilliseconds":32.6464,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1003","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5NSG7U8S:00000006","RequestPath":"/api/Payment/Pay/1003","ConnectionId":"0HNHS5NSG7U8S","MachineName":"linux","ThreadId":3}}
{"Timestamp":"2025-12-16T01:08:31.6526615+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":58},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:08:31.6540529+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":58},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T01:08:31.6553491+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:b736fb12 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":45},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:b736fb12 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6553586+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:43aa1428 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":46},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:43aa1428 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6553634+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:8e4a9b2e stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:8e4a9b2e stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6553790+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:68434c48 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:68434c48 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6563241+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:aaa81102 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:aaa81102 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6554152+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:87a4d68c stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:87a4d68c stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6561395+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d24fb6cf stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d24fb6cf stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6562004+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:b41b48ae stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:b41b48ae stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6565108+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:e404cc51 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:e404cc51 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6565649+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a6dc428f stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a6dc428f stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6565778+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:46b124be stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:46b124be stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6567595+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:6385d40c stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:6385d40c stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6573698+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:c2dda88c stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:c2dda88c stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6567370+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:60a8c58d stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:60a8c58d stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6574915+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:dfa50803 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:dfa50803 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6575354+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d80d9a99 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":44},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d80d9a99 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6576483+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:6820de0a stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:6820de0a stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6578714+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:75a817ef stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:75a817ef stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6579917+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3e9ebf09 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3e9ebf09 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6580671+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:be1dbd64 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:be1dbd64 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6567595+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:54e88761 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:54e88761 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6594108+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:08:31.6596065+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:bde8b98a stopped in 1.1182 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:bde8b98a stopped in 1.1182 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6596716+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:30c2ef8a stopped in 1.1953 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:30c2ef8a stopped in 1.1953 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6598362+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:81f627d8 stopped in 1.3597 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:81f627d8 stopped in 1.3597 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6600490+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:f4da8c4d stopped in 1.5703 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:f4da8c4d stopped in 1.5703 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6619882+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1a67a1ee stopped in 3.501 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1a67a1ee stopped in 3.501 ms"}]}}
{"Timestamp":"2025-12-16T01:08:31.6873158+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:08:32.1590178+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:a27c306e stopped in 500.4824 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:a27c306e stopped in 500.4824 ms"}]}}
{"Timestamp":"2025-12-16T01:08:32.1605153+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T01:08:32.1623117+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:2a166a39 stopped in 0.2255 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:2a166a39 stopped in 0.2255 ms"}]}}
{"Timestamp":"2025-12-16T01:08:32.1817860+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 successfully reported itself as stopped in 13.2171 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 successfully reported itself as stopped in 13.2171 ms"}]}}
{"Timestamp":"2025-12-16T01:08:32.1823764+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:73877:a40f8759 has been stopped in total 523.6615 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:73877:a40f8759 has been stopped in total 523.6615 ms"}]}}
{"Timestamp":"2025-12-16T01:08:32.1828948+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:fd3a79f6 stopped in 524.1817 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:fd3a79f6 stopped in 524.1817 ms"}]}}
{"Timestamp":"2025-12-16T01:08:42.9883960+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:08:44.3847491+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:08:44.3886290+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:08:44.3891318+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:08:45.6641667+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"145","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:45.7432328+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:45.8955944+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"117","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:46.2222547+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"25","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:08:46.2819013+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:46.2874622+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:08:46.3000808+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:46.3394239+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:46.3619654+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:46.9823958+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:47.4717796+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"19","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:47.9574871+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T01:08:48.0508465+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T01:08:48.5696737+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:48.5821176+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T01:08:48.5829969+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T01:08:48.5838047+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T01:08:48.6112619+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:f7c61d97 has started in 5.851 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:f7c61d97 has started in 5.851 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6126918+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:48.6133129+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:48.6135301+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:48.6290261+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 successfully announced in 14.0869 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 successfully announced in 14.0869 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6323589+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:97292daf has started in 1.7821 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:97292daf has started in 1.7821 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6334375+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T01:08:48.6345107+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:cdab18db has started in 0.5828 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:cdab18db has started in 0.5828 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6352325+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:145e9e9a has started in 0.659 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:145e9e9a has started in 0.659 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6362106+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:797059f3 has started in 0.9481 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:797059f3 has started in 0.9481 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6365574+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:370cae3d has started in 0.3505 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:370cae3d has started in 0.3505 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6380047+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:582b0bb1 has started in 0.3567 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:582b0bb1 has started in 0.3567 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6390813+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'AggregatedCounter' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'AggregatedCounter' table..."}]}}
{"Timestamp":"2025-12-16T01:08:48.6393626+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4e496dc9 has started in 0.9663 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4e496dc9 has started in 0.9663 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6398828+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:08:48.6400798+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:43588758 has started in 1.6939 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:43588758 has started in 1.6939 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6409310+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4c8167a2 has started in 2.5309 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4c8167a2 has started in 2.5309 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6423331+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:376d0fba has started in 3.9169 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:376d0fba has started in 3.9169 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6427542+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a1009bee has started in 4.3687 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a1009bee has started in 4.3687 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6417401+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:9d3c2b4b has started in 3.3269 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:9d3c2b4b has started in 3.3269 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6420412+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:869c96ef has started in 3.6527 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:869c96ef has started in 3.6527 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6435262+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3ea2b994 has started in 5.1393 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3ea2b994 has started in 5.1393 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6445164+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:e3f4f2dd has started in 6.1245 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:e3f4f2dd has started in 6.1245 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6451918+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:dbbec709 has started in 6.8004 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:dbbec709 has started in 6.8004 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6455834+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4ffb76cf has started in 7.1969 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4ffb76cf has started in 7.1969 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6467035+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3bb2fbd4 has started in 8.3054 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3bb2fbd4 has started in 8.3054 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6477820+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Job' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Job' table..."}]}}
{"Timestamp":"2025-12-16T01:08:48.6484246+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:bcf6b917 has started in 10.0335 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:bcf6b917 has started in 10.0335 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6487085+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fa872ccb has started in 10.3295 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fa872ccb has started in 10.3295 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6479483+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d4f8e55b has started in 9.5349 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d4f8e55b has started in 9.5349 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6511688+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:71fb5478 has started in 12.7778 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:71fb5478 has started in 12.7778 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6521531+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:8cf50585 has started in 13.7613 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:8cf50585 has started in 13.7613 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6537937+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:782caf04 has started in 15.2995 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:782caf04 has started in 15.2995 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6549914+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:14b19ce4 has started in 16.5851 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:14b19ce4 has started in 16.5851 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6590145+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1941b45b has started in 20.6099 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1941b45b has started in 20.6099 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6620223+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:5b898b5d has started in 2.9635 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:5b898b5d has started in 2.9635 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6637997+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:f49c9509 has started in 1.4009 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:f49c9509 has started in 1.4009 ms"}]}}
{"Timestamp":"2025-12-16T01:08:48.6638680+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T01:08:48.6800434+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'List' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'List' table..."}]}}
{"Timestamp":"2025-12-16T01:08:48.6853347+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Set' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Set' table..."}]}}
{"Timestamp":"2025-12-16T01:08:48.6884328+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Hash' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Hash' table..."}]}}
{"Timestamp":"2025-12-16T01:08:49.1405024+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.2694575+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":38.241646,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5RJVCR3Q:00000001","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.2416"}]}}
{"Timestamp":"2025-12-16T01:08:49.2944089+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.3180385+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cca8cf94-3b72-4439-9dc0-ba1b02d73a02","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.3409979+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cca8cf94-3b72-4439-9dc0-ba1b02d73a02","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.3546163+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":1.3886,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cca8cf94-3b72-4439-9dc0-ba1b02d73a02","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.3733990+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cca8cf94-3b72-4439-9dc0-ba1b02d73a02","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.4218140+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":93.7218,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.4224224+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.4227653+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":132.848914,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5RJVCR3Q:00000001","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"132.8489"}]}}
{"Timestamp":"2025-12-16T01:08:49.4261501+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"ElapsedMilliseconds":285.9659,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.4273008+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"8e95f4a6a6b70e3b83ec10a46044e3df","SpanId":"26d96812fa09e764","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000001","RequestPath":"/","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:08:49.4525594+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/favicon.ico","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:49.4595833+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"RequestMethod":"GET","RequestPath":"/favicon.ico","StatusCode":404,"Elapsed":3.187357,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5RJVCR3Q:00000002","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3.1874"}]}}
{"Timestamp":"2025-12-16T01:08:49.4614340+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:49.4621334+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cca8cf94-3b72-4439-9dc0-ba1b02d73a02","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:49.4636466+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cca8cf94-3b72-4439-9dc0-ba1b02d73a02","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:49.4640733+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":0.024,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cca8cf94-3b72-4439-9dc0-ba1b02d73a02","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:49.4650463+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cca8cf94-3b72-4439-9dc0-ba1b02d73a02","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:49.4666044+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":3.8378,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:49.4671570+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:49.4675736+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":6.285428,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5RJVCR3Q:00000002","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6.2854"}]}}
{"Timestamp":"2025-12-16T01:08:49.4698414+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"ElapsedMilliseconds":17.1307,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/favicon.ico","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:08:49.4710922+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"4d0447327bb1f82387b268ed7426bfc6","SpanId":"203e9ef4adebacf7","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/favicon.ico","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:04.0718158+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":41,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Bookings","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:04.0767104+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:04.1811834+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"EndpointName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:04.1952306+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"RouteData":"{action = \"CreateBooking\", controller = \"Bookings\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBooking(TouristsCore.DTOS.Booking.CreateBookingDto)","Controller":"TouristsAPI.Controllers.BookingsController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1d9d0e6-1f31-4b7d-8915-12accc9b4bdb","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:04.2387472+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1d9d0e6-1f31-4b7d-8915-12accc9b4bdb","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:04.3486157+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [t].[Id], [t].[AvailableSeats], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[RowVersion], [t].[StartTime], [t].[TourId], [t].[UpdatedAt], [t1].[Id], [t1].[City], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[Description], [t1].[DurationMinutes], [t1].[GuideProfileId], [t1].[IsDeleted], [t1].[IsPublished], [t1].[MaxGroupSize], [t1].[Price], [t1].[Title], [t1].[UpdatedAt]\nFROM [TourSchedule] AS [t]\nINNER JOIN (\n    SELECT [t0].[Id], [t0].[City], [t0].[Country], [t0].[CreatedAt], [t0].[DeletedAt], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt]\n    FROM [Tours] AS [t0]\n    WHERE [t0].[IsDeleted] = CAST(0 AS bit)\n) AS [t1] ON [t].[TourId] = [t1].[Id]\nWHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d1d9d0e6-1f31-4b7d-8915-12accc9b4bdb","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:09:04.5218902+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"elapsed":"3","parameters":"@__8__locals1_userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[AvatarFileId], [s].[Country], [s].[CreatedAt], [s].[DeletedAt], [s].[FullName], [s].[IsDeleted], [s].[Phone], [s].[UpdatedAt], [s].[UserId], [s].[Id0], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted0], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt0], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [t].[Id], [t].[AvatarFileId], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[FullName], [t].[IsDeleted], [t].[Phone], [t].[UpdatedAt], [t].[UserId], [u0].[Id] AS [Id0], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt0], [u0].[DeletedAt] AS [DeletedAt0], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted0], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt0], [u0].[UserName]\n    FROM [TouristProfiles] AS [t]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t].[UserId] = [u0].[Id]\n    WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[UserId] = @__8__locals1_userId_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id0] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d1d9d0e6-1f31-4b7d-8915-12accc9b4bdb","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:09:05.0207543+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"elapsed":"9","parameters":"@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p21='?' (Size = 8) (DbType = Binary), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET NOCOUNT ON;\nINSERT INTO [Bookings] ([BookingDate], [CreatedAt], [DeletedAt], [EndAt], [IsDeleted], [PriceAtBooking], [StartAt], [Status], [TicketCount], [TourId], [TourScheduleId], [TouristId], [UpdatedAt])\nOUTPUT INSERTED.[Id]\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);\nUPDATE [TourSchedule] SET [AvailableSeats] = @p13, [CreatedAt] = @p14, [DeletedAt] = @p15, [IsDeleted] = @p16, [StartTime] = @p17, [TourId] = @p18, [UpdatedAt] = @p19\nOUTPUT INSERTED.[RowVersion]\nWHERE [Id] = @p20 AND [RowVersion] = @p21;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d1d9d0e6-1f31-4b7d-8915-12accc9b4bdb","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:05.2537413+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1014.6091,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1d9d0e6-1f31-4b7d-8915-12accc9b4bdb","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:05.2592226+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"ObjectResultType":"OkObjectResult","Type":"TouristsCore.DTOS.Booking.BookingResponseDto","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d1d9d0e6-1f31-4b7d-8915-12accc9b4bdb","ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:05.3073616+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"ActionName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","ElapsedMilliseconds":1111.5932,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:05.3099607+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"EndpointName":"TouristsAPI.Controllers.BookingsController.CreateBooking (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:05.3178359+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"RequestMethod":"POST","RequestPath":"/api/Bookings","StatusCode":200,"Elapsed":1240.617469,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5RJVCR3Q:00000003","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1240.6175"}]}}
{"Timestamp":"2025-12-16T01:09:05.3508317+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6084d41084841b3bd38676a89e1490c","SpanId":"3ff0985676d0656c","Properties":{"ElapsedMilliseconds":1278.9719,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Bookings","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000003","RequestPath":"/api/Bookings","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:18.6407020+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:09:23.7017200+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:09:23.7041326+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:09:23.7076312+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:09:23.7137426+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:09:23.7188302+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:09:23.8619525+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:25.6523063+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"elapsed":"6","parameters":"@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nINSERT INTO [Payments] ([Amount], [BookingId], [CreatedAt], [Currency], [DeletedAt], [FailureMessage], [IsDeleted], [PaymentDate], [Provider], [Status], [TransactionId], [UpdatedAt])\nOUTPUT INSERTED.[Id]\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:25.6576132+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1938.508,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:25.6583885+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:25.6609337+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":1946.8743,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:25.6611979+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:25.6615213+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":200,"Elapsed":1957.197029,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5RJVCR3Q:00000004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1957.1970"}]}}
{"Timestamp":"2025-12-16T01:09:25.6624977+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"629e9df37dc13cb1f467570e4e27da48","SpanId":"2b7d70ac0171e246","Properties":{"ElapsedMilliseconds":1960.7676,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3Q:00000004","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3Q","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:09:48.6468391+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:10:18.6531772+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:10:48.6596049+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:11:18.6650587+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:11:27.4419568+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:27.4523619+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:27.4610846+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:27.4628106+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:27.4817486+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Exception":"Stripe.StripeException: The expected signature was not found in the Stripe-Signature header. Make sure you're using the correct webhook secret (whsec_) and confirm the incoming request came from Stripe.\n   at Stripe.EventUtility.ValidateSignature(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 182\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 155\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:27.5031135+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":39.7069,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:27.5038247+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:27.5043139+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":42.9416,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:27.5046268+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:27.5048501+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":52.706946,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5RJVCR3R:00000001","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.7069"}]}}
{"Timestamp":"2025-12-16T01:11:27.5056132+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"84a267ae1e99d1a8e40bde1f9bf6b277","SpanId":"062c7362e094ddd4","Properties":{"ElapsedMilliseconds":63.6358,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3R:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3R","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:11:43.9852729+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:43.9878486+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:43.9888759+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:44.0015161+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:44.0025690+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Exception":"Stripe.StripeException: The expected signature was not found in the Stripe-Signature header. Make sure you're using the correct webhook secret (whsec_) and confirm the incoming request came from Stripe.\n   at Stripe.EventUtility.ValidateSignature(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 182\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 155\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:44.0035931+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":1.7363,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:44.0041721+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a7c19120-fdcc-4a00-a9a1-0c2f71d8c769","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:44.0046005+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":14.3998,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:44.0049467+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:44.0051605+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":17.606468,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5RJVCR3S:00000001","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.6065"}]}}
{"Timestamp":"2025-12-16T01:11:44.0056234+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3bdd7dee8d31561949898ac5b21f7cc2","SpanId":"c5be44be209c63eb","Properties":{"ElapsedMilliseconds":20.4247,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3S:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS5RJVCR3S","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:11:48.6709846+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:12:18.6762491+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:12:48.6804939+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:13:18.6877342+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:13:48.6750843+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:13:48.6914951+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:14:18.6993296+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:14:48.7048124+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:15:18.7113444+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:15:41.2161552+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:41.2177890+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:41.2205452+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:41.2208925+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:41.2219753+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:41.2418182+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:42.1568244+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"elapsed":"5","parameters":"@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nINSERT INTO [Payments] ([Amount], [BookingId], [CreatedAt], [Currency], [DeletedAt], [FailureMessage], [IsDeleted], [PaymentDate], [Provider], [Status], [TransactionId], [UpdatedAt])\nOUTPUT INSERTED.[Id]\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:42.1899863+02:00","Level":"Error","MessageTemplate":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Exception":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Payments' with unique index 'IX_Payments_BookingId'. The duplicate key value is (1004).\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\nClientConnectionId:1bdccd65-33f9-488e-9851-9d790ba460bd\nError Number:2601,State:1,Class:14\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","Properties":{"contextType":"TouristsRepository.TouristsContext","newline":"\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Payments' with unique index 'IX_Payments_BookingId'. The duplicate key value is (1004).\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\nClientConnectionId:1bdccd65-33f9-488e-9851-9d790ba460bd\nError Number:2601,State:1,Class:14\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:42.1952027+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":972.9936,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:42.1958192+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"08790582-c707-48f3-8226-7c55ea87a22d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:42.1962276+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":974.9495,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:42.1964733+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:42.1966877+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":400,"Elapsed":978.644734,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS5RJVCR3T:00000001","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"978.6447"}]}}
{"Timestamp":"2025-12-16T01:15:42.1972102+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e1363686ea66ecd04d4433aeab94bc46","SpanId":"8254729e9d6b6014","Properties":{"ElapsedMilliseconds":981.0362,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS5RJVCR3T:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS5RJVCR3T","MachineName":"linux","ThreadId":58}}
{"Timestamp":"2025-12-16T01:15:48.7169940+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:16:18.7211681+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:16:48.7255585+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:17:18.7312072+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:17:48.7374056+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:17:51.3483332+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":55},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:17:51.3495807+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":55},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T01:17:51.3510699+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:145e9e9a stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:145e9e9a stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3513444+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:14b19ce4 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:14b19ce4 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3514738+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:5b898b5d stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:5b898b5d stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3514007+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:f49c9509 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:f49c9509 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3517560+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:43588758 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:43588758 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3513590+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:cdab18db stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:cdab18db stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3517001+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:869c96ef stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:869c96ef stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3514195+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:582b0bb1 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:582b0bb1 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3532057+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fa872ccb stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fa872ccb stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3519328+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4e496dc9 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4e496dc9 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3536588+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:bcf6b917 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:bcf6b917 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3539595+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:782caf04 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:782caf04 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3527382+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:dbbec709 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:dbbec709 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3532057+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:376d0fba stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:376d0fba stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3536868+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d4f8e55b stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d4f8e55b stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3538243+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:71fb5478 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:71fb5478 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3551613+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:e3f4f2dd stopped in 0.4177 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:e3f4f2dd stopped in 0.4177 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3554616+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T01:17:51.3557190+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4ffb76cf stopped in 0.9804 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4ffb76cf stopped in 0.9804 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3523403+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3bb2fbd4 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3bb2fbd4 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3546488+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:370cae3d stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:370cae3d stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3548061+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:9d3c2b4b stopped in 0.0636 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:9d3c2b4b stopped in 0.0636 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3552458+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:8cf50585 stopped in 0.505 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:8cf50585 stopped in 0.505 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3552590+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3ea2b994 stopped in 0.5202 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3ea2b994 stopped in 0.5202 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3541534+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4c8167a2 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4c8167a2 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3542784+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a1009bee stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a1009bee stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3558796+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1941b45b stopped in 1.1436 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1941b45b stopped in 1.1436 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.3717160+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":51},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:17:51.7332672+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:797059f3 stopped in 378.4796 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:797059f3 stopped in 378.4796 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.7343886+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T01:17:51.7366191+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:97292daf stopped in 0.2005 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:97292daf stopped in 0.2005 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.7552272+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 successfully reported itself as stopped in 10.6423 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 successfully reported itself as stopped in 10.6423 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.7556076+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:75461:7b032668 has been stopped in total 400.5773 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:75461:7b032668 has been stopped in total 400.5773 ms"}]}}
{"Timestamp":"2025-12-16T01:17:51.7562926+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:f7c61d97 stopped in 401.2426 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:f7c61d97 stopped in 401.2426 ms"}]}}
{"Timestamp":"2025-12-16T01:19:15.1135167+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:19:16.8717471+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:19:16.8736150+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:19:16.8738862+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:19:18.0114524+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"60","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:18.0424185+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:18.0953326+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"46","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:18.2144592+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"12","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:19:18.2565664+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:19:18.2598381+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:19:18.2713705+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:18.2977442+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:18.3124471+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:18.7668661+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:19:19.2222597+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"31","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:19.7402695+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T01:19:19.8003182+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T01:19:20.5396386+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:20.5537164+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T01:19:20.5543719+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T01:19:20.5549630+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T01:19:20.5825793+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:74b4f96f has started in 5.6815 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:74b4f96f has started in 5.6815 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.5833845+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:20.5838352+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:20.5840651+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:20.6100235+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 successfully announced in 24.1148 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 successfully announced in 24.1148 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6153240+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:b7b28a98 has started in 3.3624 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:b7b28a98 has started in 3.3624 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6181195+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T01:19:20.6191667+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:c9856cee has started in 0.5814 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:c9856cee has started in 0.5814 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6195270+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:d30cc195 has started in 0.3413 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:d30cc195 has started in 0.3413 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6198684+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:ea3ab167 has started in 0.3285 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:ea3ab167 has started in 0.3285 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6201818+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:ff6fd294 has started in 0.3086 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:ff6fd294 has started in 0.3086 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6215983+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:fce665be has started in 1.041 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:fce665be has started in 1.041 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6228039+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:19:20.6230626+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:16916a45 has started in 1.0682 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:16916a45 has started in 1.0682 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6248643+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:46113c93 has started in 2.8523 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:46113c93 has started in 2.8523 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6230648+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'AggregatedCounter' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'AggregatedCounter' table..."}]}}
{"Timestamp":"2025-12-16T01:19:20.6257907+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3c804d13 has started in 3.7901 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3c804d13 has started in 3.7901 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6266965+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:6eacc1eb has started in 4.6967 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:6eacc1eb has started in 4.6967 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6273335+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:b2a15387 has started in 5.3137 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:b2a15387 has started in 5.3137 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6351693+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3f4f93a1 has started in 12.614 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3f4f93a1 has started in 12.614 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6360067+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a3e89bf2 has started in 13.6815 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a3e89bf2 has started in 13.6815 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6447533+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:102d9c65 has started in 22.747 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:102d9c65 has started in 22.747 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6458374+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d1257743 has started in 23.8401 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d1257743 has started in 23.8401 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6463665+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:033afb28 has started in 24.3575 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:033afb28 has started in 24.3575 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6494796+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:9643d260 has started in 27.4482 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:9643d260 has started in 27.4482 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6499946+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:143cddf4 has started in 27.994 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:143cddf4 has started in 27.994 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6508862+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fd879b57 has started in 28.8979 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fd879b57 has started in 28.8979 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6502720+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:000d0c27 has started in 28.2814 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:000d0c27 has started in 28.2814 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6512555+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3d019949 has started in 29.2671 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3d019949 has started in 29.2671 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6515526+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:0a5050de has started in 29.5634 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:0a5050de has started in 29.5634 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6518137+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:cd5ad629 has started in 29.8291 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:cd5ad629 has started in 29.8291 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6522072+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:60e738af has started in 30.2209 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:60e738af has started in 30.2209 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6525400+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:7b22a3a4 has started in 30.5527 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:7b22a3a4 has started in 30.5527 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6532613+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:534b02de has started in 31.2715 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:534b02de has started in 31.2715 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6538879+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Job' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Job' table..."}]}}
{"Timestamp":"2025-12-16T01:19:20.6543532+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:969e18e6 has started in 0.6973 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:969e18e6 has started in 0.6973 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6547532+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T01:19:20.6547734+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:0d83b373 has started in 0.3949 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:0d83b373 has started in 0.3949 ms"}]}}
{"Timestamp":"2025-12-16T01:19:20.6810200+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'List' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'List' table..."}]}}
{"Timestamp":"2025-12-16T01:19:20.6841779+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Set' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Set' table..."}]}}
{"Timestamp":"2025-12-16T01:19:20.6868363+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Hash' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Hash' table..."}]}}
{"Timestamp":"2025-12-16T01:19:21.4916572+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:21.7092182+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":39.410078,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS61GDLVVI:00000001","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.4101"}]}}
{"Timestamp":"2025-12-16T01:19:21.7292719+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:21.7483749+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1f2ea4cc-5ac6-4009-83a5-96854e2efe6e","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:21.7748043+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1f2ea4cc-5ac6-4009-83a5-96854e2efe6e","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:21.7831997+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":0.934,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1f2ea4cc-5ac6-4009-83a5-96854e2efe6e","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:21.8075815+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1f2ea4cc-5ac6-4009-83a5-96854e2efe6e","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:21.8525814+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":91.8484,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:21.8531642+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:21.8534901+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":129.679907,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS61GDLVVI:00000001","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"129.6799"}]}}
{"Timestamp":"2025-12-16T01:19:21.8587345+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"ElapsedMilliseconds":369.7695,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:21.8603316+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"1d5b600a5c7280e45d1e9a23d6c4a931","SpanId":"72af4a3bdb256506","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS61GDLVVI:00000001","RequestPath":"/","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:19:25.2736302+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:25.2773191+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:25.4277925+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:25.4374578+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a3ba5475-6323-4a5b-aae2-461a027900ac","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:25.4470045+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a3ba5475-6323-4a5b-aae2-461a027900ac","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:25.5929860+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3ba5475-6323-4a5b-aae2-461a027900ac","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:19:27.0160289+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"elapsed":"5","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3ba5475-6323-4a5b-aae2-461a027900ac","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:19:27.2522285+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"elapsed":"9","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a3ba5475-6323-4a5b-aae2-461a027900ac","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:27.2774996+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1830.0391,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a3ba5475-6323-4a5b-aae2-461a027900ac","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:27.2813718+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a3ba5475-6323-4a5b-aae2-461a027900ac","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:27.2870338+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":1848.7755,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:27.2887595+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:27.2947361+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":200,"Elapsed":2016.91811,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS61GDLVVI:00000002","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2016.9181"}]}}
{"Timestamp":"2025-12-16T01:19:27.3146729+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"82442d20d3ca48d50f5adc94be0ccc42","SpanId":"6d717d9407ddc0e2","Properties":{"ElapsedMilliseconds":2041.0339,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS61GDLVVI:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS61GDLVVI","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:19:50.6403571+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:20:17.4129633+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:17.4414280+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:17.4714025+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b4b85d80-4a09-4adf-89e4-54b27b5b6dd2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:17.4902698+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b4b85d80-4a09-4adf-89e4-54b27b5b6dd2","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:17.5307352+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Exception":"Stripe.StripeException: The expected signature was not found in the Stripe-Signature header. Make sure you're using the correct webhook secret (whsec_) and confirm the incoming request came from Stripe.\n   at Stripe.EventUtility.ValidateSignature(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 182\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 155\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"b4b85d80-4a09-4adf-89e4-54b27b5b6dd2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:17.5539770+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":63.0222,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b4b85d80-4a09-4adf-89e4-54b27b5b6dd2","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:17.5548660+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b4b85d80-4a09-4adf-89e4-54b27b5b6dd2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:17.5553771+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":81.9234,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:17.5556471+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:17.5561664+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":118.574545,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS61GDLVVJ:00000001","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"118.5745"}]}}
{"Timestamp":"2025-12-16T01:20:17.5570089+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d2e06d81eb9596f330d0ef8f9380d032","SpanId":"7b4c057faa214b17","Properties":{"ElapsedMilliseconds":144.1229,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS61GDLVVJ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS61GDLVVJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:20:20.6472546+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:20:50.6536514+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:21:20.6638540+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:21:50.6707228+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:22:20.6761838+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:22:31.9416729+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":48},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:22:31.9426693+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":48},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T01:22:31.9438751+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:969e18e6 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:969e18e6 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9438834+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:46113c93 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:46113c93 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9464226+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fd879b57 stopped in 1.3899 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fd879b57 stopped in 1.3899 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9462717+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3d019949 stopped in 1.2459 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3d019949 stopped in 1.2459 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9467593+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:102d9c65 stopped in 1.7221 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:102d9c65 stopped in 1.7221 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9439735+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:cd5ad629 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:cd5ad629 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9439982+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:16916a45 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:16916a45 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9440477+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:7b22a3a4 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:7b22a3a4 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9441144+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:534b02de stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:534b02de stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9441231+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d1257743 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d1257743 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9441961+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:143cddf4 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:143cddf4 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9442722+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:0a5050de stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:0a5050de stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9442838+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:d30cc195 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:d30cc195 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9444940+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:ff6fd294 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:ff6fd294 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9445921+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:6eacc1eb stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:6eacc1eb stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9452444+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:c9856cee stopped in 0.1973 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:c9856cee stopped in 0.1973 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9454293+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:22:31.9459493+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a3e89bf2 stopped in 0.9052 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a3e89bf2 stopped in 0.9052 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9459561+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:fce665be stopped in 0.9214 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:fce665be stopped in 0.9214 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9461821+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3f4f93a1 stopped in 1.1508 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3f4f93a1 stopped in 1.1508 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9461054+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3c804d13 stopped in 1.0748 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3c804d13 stopped in 1.0748 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9461952+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:9643d260 stopped in 1.1691 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:9643d260 stopped in 1.1691 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9438962+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:0d83b373 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:0d83b373 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9467743+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:000d0c27 stopped in 1.7417 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:000d0c27 stopped in 1.7417 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9463395+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:033afb28 stopped in 1.3052 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:033afb28 stopped in 1.3052 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9468844+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:60e738af stopped in 1.7898 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:60e738af stopped in 1.7898 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9470188+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:b2a15387 stopped in 1.9748 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:b2a15387 stopped in 1.9748 ms"}]}}
{"Timestamp":"2025-12-16T01:22:31.9665641+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":47},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:22:32.4680779+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 caught stopped signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":47},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 caught stopped signal..."}]}}
{"Timestamp":"2025-12-16T01:22:32.6603730+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:ea3ab167 stopped in 715.259 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:ea3ab167 stopped in 715.259 ms"}]}}
{"Timestamp":"2025-12-16T01:22:32.6607694+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T01:22:32.6613413+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:b7b28a98 stopped in 0.092 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:b7b28a98 stopped in 0.092 ms"}]}}
{"Timestamp":"2025-12-16T01:22:32.6690374+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 successfully reported itself as stopped in 5.6471 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 successfully reported itself as stopped in 5.6471 ms"}]}}
{"Timestamp":"2025-12-16T01:22:32.6692058+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:76930:049b2bf4 has been stopped in total 724.0026 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:76930:049b2bf4 has been stopped in total 724.0026 ms"}]}}
{"Timestamp":"2025-12-16T01:22:32.6695294+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:74b4f96f stopped in 724.3272 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:74b4f96f stopped in 724.3272 ms"}]}}
{"Timestamp":"2025-12-16T01:25:36.7472125+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:25:38.0301368+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:25:38.0322344+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:25:38.0325602+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:25:39.2647566+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"80","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:25:39.2999864+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:25:39.3608682+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"50","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:25:39.5001189+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"11","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:39.5459455+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:39.5490247+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:25:39.5574984+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:39.5834135+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:39.5970682+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:40.0264937+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:40.3551768+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:40.7384727+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T01:25:40.7961461+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T01:25:41.2589721+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:41.2714561+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T01:25:41.2719977+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T01:25:41.2725496+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T01:25:41.2983214+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:6c002b50 has started in 4.3805 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:6c002b50 has started in 4.3805 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.2991671+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:41.2996689+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:41.2998320+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:41.3204341+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 successfully announced in 17.4972 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 successfully announced in 17.4972 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3258953+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:dca148d2 has started in 2.0731 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:dca148d2 has started in 2.0731 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3271415+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T01:25:41.3291421+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:b86b3092 has started in 1.544 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:b86b3092 has started in 1.544 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3299051+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:e69c4e2c has started in 0.4323 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:e69c4e2c has started in 0.4323 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3303082+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:adc18608 has started in 0.313 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:adc18608 has started in 0.313 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3313441+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:0e593a62 has started in 0.8778 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:0e593a62 has started in 0.8778 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3330024+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:c793c365 has started in 1.207 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:c793c365 has started in 1.207 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3337857+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d75fe27a has started in 1.0496 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d75fe27a has started in 1.0496 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3343093+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a0987af2 has started in 1.5839 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a0987af2 has started in 1.5839 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3358954+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:25:41.3359350+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:75670451 has started in 3.2014 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:75670451 has started in 3.2014 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3369591+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:41265da9 has started in 4.2325 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:41265da9 has started in 4.2325 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3376231+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'AggregatedCounter' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'AggregatedCounter' table..."}]}}
{"Timestamp":"2025-12-16T01:25:41.3398039+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:0f1503ad has started in 7.0768 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:0f1503ad has started in 7.0768 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3412033+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a528d691 has started in 8.4755 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a528d691 has started in 8.4755 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3373036+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:de42c96f has started in 4.5795 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:de42c96f has started in 4.5795 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3391509+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a9188d63 has started in 6.4121 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a9188d63 has started in 6.4121 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3427256+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:996c91b9 has started in 9.9886 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:996c91b9 has started in 9.9886 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3440711+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fa612637 has started in 11.3375 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fa612637 has started in 11.3375 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3444893+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:71717a2f has started in 11.7674 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:71717a2f has started in 11.7674 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3464596+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:5c1899dc has started in 13.7226 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:5c1899dc has started in 13.7226 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3468546+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1e714382 has started in 14.1276 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1e714382 has started in 14.1276 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3472685+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:65e16937 has started in 14.5435 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:65e16937 has started in 14.5435 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3502567+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:06883bf8 has started in 17.5173 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:06883bf8 has started in 17.5173 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3528502+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4e9fe9d1 has started in 20.1256 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4e9fe9d1 has started in 20.1256 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3553772+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:7483736e has started in 22.6326 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:7483736e has started in 22.6326 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3555695+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Job' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Job' table..."}]}}
{"Timestamp":"2025-12-16T01:25:41.3606014+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:b22f4e2d has started in 27.8445 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:b22f4e2d has started in 27.8445 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3623181+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:41f24197 has started in 29.5831 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:41f24197 has started in 29.5831 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3634941+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:828063a3 has started in 30.7599 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:828063a3 has started in 30.7599 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3662148+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:87c2612c has started in 2.2229 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:87c2612c has started in 2.2229 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3665163+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T01:25:41.3665319+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:f4b3dc8b has started in 0.3045 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:f4b3dc8b has started in 0.3045 ms"}]}}
{"Timestamp":"2025-12-16T01:25:41.3889632+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'List' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'List' table..."}]}}
{"Timestamp":"2025-12-16T01:25:41.3975860+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Set' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Set' table..."}]}}
{"Timestamp":"2025-12-16T01:25:41.4027029+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Hash' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Hash' table..."}]}}
{"Timestamp":"2025-12-16T01:25:42.0354263+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:42.1689280+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":38.101668,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS651R3VLP:00000001","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.1017"}]}}
{"Timestamp":"2025-12-16T01:25:42.1881431+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:42.2122867+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a18c8dc4-f591-4198-9291-d0648583956e","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:42.2344660+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a18c8dc4-f591-4198-9291-d0648583956e","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:42.2501276+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":1.4508,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a18c8dc4-f591-4198-9291-d0648583956e","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:42.2769192+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a18c8dc4-f591-4198-9291-d0648583956e","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:42.3162689+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":96.5371,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:42.3168712+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:42.3171707+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":133.604628,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS651R3VLP:00000001","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"133.6046"}]}}
{"Timestamp":"2025-12-16T01:25:42.3206735+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"ElapsedMilliseconds":285.4849,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:42.3222189+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"79f30ecb50f04febc756e4aa173c62fe","SpanId":"2a78e488a0ba2090","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS651R3VLP:00000001","RequestPath":"/","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:47.2690531+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:47.2729698+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:47.3741374+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:47.3820134+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7cb38c7e-fb74-4fba-8e62-37cd3b41d74d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:47.3970049+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7cb38c7e-fb74-4fba-8e62-37cd3b41d74d","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:47.5404685+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7cb38c7e-fb74-4fba-8e62-37cd3b41d74d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:48.8239894+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"elapsed":"1","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7cb38c7e-fb74-4fba-8e62-37cd3b41d74d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:25:49.2113496+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"elapsed":"21","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7cb38c7e-fb74-4fba-8e62-37cd3b41d74d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:49.2878906+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1890.2904,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7cb38c7e-fb74-4fba-8e62-37cd3b41d74d","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:49.2960267+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"7cb38c7e-fb74-4fba-8e62-37cd3b41d74d","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:49.3072242+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":1924.6569,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:49.3167405+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:25:49.3269732+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":200,"Elapsed":2053.393524,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS651R3VLP:00000002","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2053.3935"}]}}
{"Timestamp":"2025-12-16T01:25:49.3593550+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7cc2c4b5aeb4ed7f92b0c10d8321d1fe","SpanId":"44f6f567da98f426","Properties":{"ElapsedMilliseconds":2090.3364,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS651R3VLP:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS651R3VLP","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:11.3423624+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:26:36.7121512+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:36.7434884+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:36.7714994+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"05ca6107-4d7b-43c4-8a87-44f73bc4e700","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:36.7824820+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"05ca6107-4d7b-43c4-8a87-44f73bc4e700","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:36.8626744+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"05ca6107-4d7b-43c4-8a87-44f73bc4e700","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:36.8802284+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":97.2854,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"05ca6107-4d7b-43c4-8a87-44f73bc4e700","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:36.8809226+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"05ca6107-4d7b-43c4-8a87-44f73bc4e700","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:36.8813272+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":108.9365,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:36.8815984+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:36.8819909+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":142.154317,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS651R3VLQ:00000001","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"142.1543"}]}}
{"Timestamp":"2025-12-16T01:26:36.8829902+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a47ca95f0b19dcba9b11bf3dc557a6ab","SpanId":"df36d0d8322f1d35","Properties":{"ElapsedMilliseconds":171.0172,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS651R3VLQ:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS651R3VLQ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:26:41.3557380+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:27:11.3618898+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:27:41.3678821+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:28:11.3803560+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:28:41.3860645+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:28:44.4283748+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":48},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:28:44.4295710+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":48},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T01:28:44.4308293+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:f4b3dc8b stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:f4b3dc8b stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4308294+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:87c2612c stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:87c2612c stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4313300+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:0f1503ad stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:0f1503ad stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4308304+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:e69c4e2c stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:e69c4e2c stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4316877+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d75fe27a stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d75fe27a stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4320171+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a0987af2 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a0987af2 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4312088+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:828063a3 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:828063a3 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4324939+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:b22f4e2d stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:b22f4e2d stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4315636+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fa612637 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fa612637 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4313329+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:996c91b9 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:996c91b9 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4318423+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:5c1899dc stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:5c1899dc stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4337043+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:7483736e stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:7483736e stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4319100+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a9188d63 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a9188d63 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4320409+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:65e16937 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:65e16937 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4322148+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1e714382 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1e714382 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4343775+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:71717a2f stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:71717a2f stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4324251+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4e9fe9d1 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4e9fe9d1 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4308527+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:0e593a62 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:0e593a62 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4351154+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:41265da9 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:41265da9 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4354776+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:b86b3092 stopped in 0.1598 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:b86b3092 stopped in 0.1598 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4322956+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:06883bf8 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:06883bf8 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4361379+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:41f24197 stopped in 0.8232 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:41f24197 stopped in 0.8232 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4348778+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:75670451 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:75670451 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4351131+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:de42c96f stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:de42c96f stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4355868+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:c793c365 stopped in 0.1925 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:c793c365 stopped in 0.1925 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4319101+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a528d691 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a528d691 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:28:44.4365969+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T01:28:44.4531051+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":51},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:28:44.9536206+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 caught stopped signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":51},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 caught stopped signal..."}]}}
{"Timestamp":"2025-12-16T01:28:45.3702963+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:adc18608 stopped in 934.8841 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:adc18608 stopped in 934.8841 ms"}]}}
{"Timestamp":"2025-12-16T01:28:45.3723907+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T01:28:45.3756424+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:dca148d2 stopped in 0.2178 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:dca148d2 stopped in 0.2178 ms"}]}}
{"Timestamp":"2025-12-16T01:28:45.3883919+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 successfully reported itself as stopped in 6.2507 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 successfully reported itself as stopped in 6.2507 ms"}]}}
{"Timestamp":"2025-12-16T01:28:45.3886527+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:77939:4bb808a4 has been stopped in total 952.6207 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:77939:4bb808a4 has been stopped in total 952.6207 ms"}]}}
{"Timestamp":"2025-12-16T01:28:45.3891016+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:6c002b50 stopped in 953.0633 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:6c002b50 stopped in 953.0633 ms"}]}}
{"Timestamp":"2025-12-16T01:35:40.9920875+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:35:42.2571329+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:35:42.2589751+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:35:42.2593114+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:35:43.5577368+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"69","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:43.5915567+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:43.6458593+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"47","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:43.8042004+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"19","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:35:43.8459844+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:35:43.8496900+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:35:43.8591168+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:43.8854111+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:43.9180993+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:44.5564628+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:35:44.8685088+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"24","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:45.3066051+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T01:35:45.3720034+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T01:35:45.8336930+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:45.8492664+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T01:35:45.8502351+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T01:35:45.8511872+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":15},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T01:35:45.8831981+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:b99ca196 has started in 6.399 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:b99ca196 has started in 6.399 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.8843690+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:45.8849563+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:45.8851951+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:45.9031264+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 successfully announced in 15.2212 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 successfully announced in 15.2212 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9062802+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:45c7d8de has started in 1.5254 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:45c7d8de has started in 1.5254 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9071225+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T01:35:45.9078258+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:49914760 has started in 0.4047 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:49914760 has started in 0.4047 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9081858+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:7a0b3a5a has started in 0.3308 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:7a0b3a5a has started in 0.3308 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9084669+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:64aeabe7 has started in 0.2787 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:64aeabe7 has started in 0.2787 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9119828+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:d94f1818 has started in 2.5201 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:d94f1818 has started in 2.5201 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9136409+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:fb0fd905 has started in 1.6504 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:fb0fd905 has started in 1.6504 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9145382+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:35:45.9147477+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'AggregatedCounter' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'AggregatedCounter' table..."}]}}
{"Timestamp":"2025-12-16T01:35:45.9172554+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:32981cfd has started in 3.6102 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:32981cfd has started in 3.6102 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9174532+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d569fdb3 has started in 3.8109 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d569fdb3 has started in 3.8109 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9181573+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:72305d02 has started in 4.5087 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:72305d02 has started in 4.5087 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9183760+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3d7d0ae1 has started in 4.7353 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3d7d0ae1 has started in 4.7353 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9188112+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a1f8beee has started in 5.1689 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a1f8beee has started in 5.1689 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9191277+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:45e16aa9 has started in 5.4854 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:45e16aa9 has started in 5.4854 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9197730+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:92588d78 has started in 6.1269 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:92588d78 has started in 6.1269 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9200600+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a5da40d5 has started in 6.4189 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a5da40d5 has started in 6.4189 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9204694+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:07a4de91 has started in 6.823 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:07a4de91 has started in 6.823 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9207514+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:82997587 has started in 7.1044 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:82997587 has started in 7.1044 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9211067+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:70b2085d has started in 7.4663 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:70b2085d has started in 7.4663 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9219335+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:252af171 has started in 8.2707 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:252af171 has started in 8.2707 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9226057+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:78cf1dc9 has started in 8.9555 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:78cf1dc9 has started in 8.9555 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9234353+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Job' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Job' table..."}]}}
{"Timestamp":"2025-12-16T01:35:45.9237690+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1f53d25e has started in 10.1304 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1f53d25e has started in 10.1304 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9234943+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:f91f53e2 has started in 9.8542 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:f91f53e2 has started in 9.8542 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9240747+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:85d94529 has started in 10.443 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:85d94529 has started in 10.443 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9247459+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:0369df25 has started in 11.0978 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:0369df25 has started in 11.0978 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9257994+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:89e01d31 has started in 12.1416 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:89e01d31 has started in 12.1416 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9260745+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1bc21974 has started in 12.4301 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1bc21974 has started in 12.4301 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9264236+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4aa7895a has started in 12.7845 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4aa7895a has started in 12.7845 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9272715+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'List' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'List' table..."}]}}
{"Timestamp":"2025-12-16T01:35:45.9279417+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:0d9d5d66 has started in 1.366 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:0d9d5d66 has started in 1.366 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9283625+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:eb2e4a75 has started in 0.4203 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:eb2e4a75 has started in 0.4203 ms"}]}}
{"Timestamp":"2025-12-16T01:35:45.9283904+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T01:35:45.9516235+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Set' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Set' table..."}]}}
{"Timestamp":"2025-12-16T01:35:45.9571806+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Hash' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Hash' table..."}]}}
{"Timestamp":"2025-12-16T01:35:46.2545828+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:46.3914745+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":39.310154,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6I:00000001","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.3102"}]}}
{"Timestamp":"2025-12-16T01:35:46.4127194+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:46.4305653+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f9737faa-dd3b-48c8-ba63-7f8c068b098a","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:46.4589514+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f9737faa-dd3b-48c8-ba63-7f8c068b098a","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:46.4672383+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":0.9893,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f9737faa-dd3b-48c8-ba63-7f8c068b098a","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:46.4882340+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f9737faa-dd3b-48c8-ba63-7f8c068b098a","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:46.5265024+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":90.0535,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:46.5270712+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:46.5273689+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":118.272667,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6I:00000001","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"118.2727"}]}}
{"Timestamp":"2025-12-16T01:35:46.5304757+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"ElapsedMilliseconds":276.2141,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:46.5316461+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"ee7330fdeec37671a15c0806b54f1c4a","SpanId":"6faccc419908ede2","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6I:00000001","RequestPath":"/","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:35:53.6569445+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:53.6606908+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:53.7604843+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:53.7697740+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:53.7776838+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:53.9048335+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:35:55.1011548+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"elapsed":"1","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:35:55.3790660+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"elapsed":"6","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:55.4039794+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1625.7659,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:55.4087742+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:55.4179663+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":1647.7564,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:55.4202511+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:35:55.4257303+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":200,"Elapsed":1764.279256,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6I:00000002","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1764.2793"}]}}
{"Timestamp":"2025-12-16T01:35:55.4457865+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da36785125a2f81bec66c700829d2e47","SpanId":"5c583c973a66bde7","Properties":{"ElapsedMilliseconds":1788.8767,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6I:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6I","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T01:36:15.9178968+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:36:22.7535387+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:22.7616519+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:22.7701438+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:22.7784344+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:22.8573994+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:22.8756890+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":96.9172,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:22.8764931+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:22.8768805+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":106.2841,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:22.8771916+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:22.8774463+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":117.248409,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6J:00000001","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"117.2484"}]}}
{"Timestamp":"2025-12-16T01:36:22.8782082+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9458e5185230a1ff1dd3ef73818cb57","SpanId":"95ad74229262a941","Properties":{"ElapsedMilliseconds":124.6585,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6J:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6J","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:36:45.9238372+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:37:15.9297013+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:37:45.9396656+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:38:15.9503868+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:38:45.9547513+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:39:15.9642346+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:39:45.9711273+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:40:15.9767992+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:40:45.9381443+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:40:45.9817020+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:41:15.9876261+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:41:45.9934416+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:42:15.9990514+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:42:46.0090183+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:43:16.0164684+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:43:46.0266958+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:44:16.0356192+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:44:46.0436018+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:45:16.0494234+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:45:45.9447746+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:45:46.0592733+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:46:16.0662039+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:46:46.0712007+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:47:16.0827377+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:47:46.0888262+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:48:16.0941714+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:48:46.0997683+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:49:16.1048730+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:49:46.1106727+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:50:16.1150886+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:50:45.9505648+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:50:46.1207941+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:51:16.1279495+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:51:46.1328002+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:52:16.1386608+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:52:44.9369369+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9378426+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9451065+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/15/2025 11:41:07PM', Current time (UTC): '12/15/2025 11:52:44PM'.\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9645455+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/15/2025 11:41:07PM', Current time (UTC): '12/15/2025 11:52:44PM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9697109+02:00","Level":"Information","MessageTemplate":"Authorization failed. {Reason}","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"Reason":"These requirements were not met:\nDenyAnonymousAuthorizationRequirement: Requires an authenticated user.","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9907945+02:00","Level":"Information","MessageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9910992+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":401,"Elapsed":52.979701,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6K:00000001","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"52.9797"}]}}
{"Timestamp":"2025-12-16T01:52:44.9927242+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/15/2025 11:41:07PM', Current time (UTC): '12/15/2025 11:52:44PM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9930854+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9933974+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f9737faa-dd3b-48c8-ba63-7f8c068b098a","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9942780+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f9737faa-dd3b-48c8-ba63-7f8c068b098a","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9946724+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":0.021,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f9737faa-dd3b-48c8-ba63-7f8c068b098a","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9952694+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"f9737faa-dd3b-48c8-ba63-7f8c068b098a","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9956338+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":1.9276,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9959023+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:44.9961058+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"RequestMethod":"POST","RequestPath":"/error/401","StatusCode":404,"Elapsed":3.437201,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6K:00000001","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3.4372"}]}}
{"Timestamp":"2025-12-16T01:52:44.9967510+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74af343d323e1877a8cc7f6388a216da","SpanId":"6dbeef8d1ac316b8","Properties":{"ElapsedMilliseconds":59.7996,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6K:00000001","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:46.2110264+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:52:51.9429672+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:51.9434355+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:51.9439699+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/15/2025 11:41:07PM', Current time (UTC): '12/15/2025 11:52:51PM'.\n   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:51.9451898+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/15/2025 11:41:07PM', Current time (UTC): '12/15/2025 11:52:51PM'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:51.9458225+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"EndpointName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:51.9590619+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(TouristsCore.DTOS.Accounts.LoginDto)","Controller":"TouristsAPI.Controllers.AuthController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1cc8d4f-07d6-44a6-bf67-9bd9fc2d143c","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:51.9907081+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1cc8d4f-07d6-44a6-bf67-9bd9fc2d143c","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:52.0922738+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"elapsed":"1","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d1cc8d4f-07d6-44a6-bf67-9bd9fc2d143c","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:52:52.3070315+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [r].[Name]\nFROM [UserRoles] AS [u]\nINNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d1cc8d4f-07d6-44a6-bf67-9bd9fc2d143c","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":59}}
{"Timestamp":"2025-12-16T01:52:52.3929287+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nINSERT INTO [RefreshToken] ([UserId], [CreatedOn], [ExpiresOn], [RevokedOn], [Token])\nOUTPUT INSERTED.[Id]\nVALUES (@p0, @p1, @p2, @p3, @p4);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d1cc8d4f-07d6-44a6-bf67-9bd9fc2d143c","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:52:52.4228670+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [r].[Name]\nFROM [UserRoles] AS [u]\nINNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d1cc8d4f-07d6-44a6-bf67-9bd9fc2d143c","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:52:52.4336986+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":442.7754,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d1cc8d4f-07d6-44a6-bf67-9bd9fc2d143c","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:52:52.4342407+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"ObjectResultType":"OkObjectResult","Type":"TouristsCore.DTOS.Accounts.AuthResponseDto","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d1cc8d4f-07d6-44a6-bf67-9bd9fc2d143c","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:52:52.4662716+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","ElapsedMilliseconds":506.9265,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:52:52.4667539+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"EndpointName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:52:52.4671249+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"RequestMethod":"POST","RequestPath":"/api/Auth/Login","StatusCode":200,"Elapsed":523.513621,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6K:00000002","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"523.5136"}]}}
{"Timestamp":"2025-12-16T01:52:52.4679667+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f6880bc6dd69883c5a9fe169e0d14a52","SpanId":"8b6ac81326eabc09","Properties":{"ElapsedMilliseconds":524.949,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6K:00000002","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:16.2170146+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:53:18.5814165+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:18.5819474+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:18.5856298+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:18.5859366+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:18.5918310+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:18.6009986+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"elapsed":"6","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:19.5167035+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"elapsed":"2","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:19.5265609+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"elapsed":"4","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:19.5279414+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":935.3398,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:19.5287575+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9c903687-f9de-468b-bf56-503394a49b4b","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:19.5293465+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":943.1761,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:19.5299286+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:19.5302342+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":200,"Elapsed":947.950408,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6K:00000003","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":62},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"947.9504"}]}}
{"Timestamp":"2025-12-16T01:53:19.5309327+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cd77b5f344a2918779f66490db13110e","SpanId":"896ea83d045d46d5","Properties":{"ElapsedMilliseconds":949.447,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6K:00000003","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6ALTBO6K","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:46.2255815+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:53:50.5312026+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3731,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5323478+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5328998+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5356411+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5385863+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Exception":"Stripe.StripeException: The expected signature was not found in the Stripe-Signature header. Make sure you're using the correct webhook secret (whsec_) and confirm the incoming request came from Stripe.\n   at Stripe.EventUtility.ValidateSignature(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 182\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 155\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5404859+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":4.376,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5412908+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5418349+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":8.3232,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5422654+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5425703+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":10.481889,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6L:00000001","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.4819"}]}}
{"Timestamp":"2025-12-16T01:53:50.5432639+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d88858baf0bf05b19fc2ff5d04b5c94","SpanId":"d37d97e2f3d6c018","Properties":{"ElapsedMilliseconds":12.0443,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.5607974+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":2315,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.5617168+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.5619878+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.5634383+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.5647945+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Exception":"Stripe.StripeException: The expected signature was not found in the Stripe-Signature header. Make sure you're using the correct webhook secret (whsec_) and confirm the incoming request came from Stripe.\n   at Stripe.EventUtility.ValidateSignature(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 182\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 155\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.5655437+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":1.862,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.5661494+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.5664932+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":4.2483,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.5667441+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.5669333+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":5.311576,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6L:00000002","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"5.3116"}]}}
{"Timestamp":"2025-12-16T01:53:50.5673461+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c6609f8eb28ee8cc8195a33f9c5c3d3","SpanId":"ae52f49992e6b318","Properties":{"ElapsedMilliseconds":6.5447,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6153140+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":1967,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6158387+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6161208+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6169427+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6173963+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Exception":"Stripe.StripeException: The expected signature was not found in the Stripe-Signature header. Make sure you're using the correct webhook secret (whsec_) and confirm the incoming request came from Stripe.\n   at Stripe.EventUtility.ValidateSignature(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 182\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 155\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6180478+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":0.922,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6184551+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6188468+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":2.4032,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6191050+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.6192535+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":3.505624,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6L:00000003","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3.5056"}]}}
{"Timestamp":"2025-12-16T01:53:50.6196983+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0e81b5d431f8b04423e05c210c277d54","SpanId":"99f08136aeac216d","Properties":{"ElapsedMilliseconds":4.2859,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.7270082+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.7275042+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.7277566+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.7284165+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.7288588+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Exception":"Stripe.StripeException: The expected signature was not found in the Stripe-Signature header. Make sure you're using the correct webhook secret (whsec_) and confirm the incoming request came from Stripe.\n   at Stripe.EventUtility.ValidateSignature(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 182\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 155\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.7295977+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":0.9858,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.7299720+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.7304021+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":2.4031,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.7306325+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.7308063+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":3.358873,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6L:00000004","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3.3589"}]}}
{"Timestamp":"2025-12-16T01:53:50.7312135+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0830791e77f1bf24414fe4fa489066f9","SpanId":"308e78b55572719a","Properties":{"ElapsedMilliseconds":4.1835,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:50.8238230+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.8244348+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.8246972+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.8292230+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.8327699+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.8335386+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":4.0172,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.8340557+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.8343806+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":7.704,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.8347091+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:50.8348860+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":10.537669,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6M:00000001","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"10.5377"}]}}
{"Timestamp":"2025-12-16T01:53:50.8355122+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6ef497a55b03b088891dfe4f1465de66","SpanId":"ae8945d24ac33abf","Properties":{"ElapsedMilliseconds":14.6156,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6M:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6M","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:53:52.9860337+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3972,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:52.9870718+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:52.9874701+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:52.9891369+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:52.9899679+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Exception":"Stripe.StripeException: The expected signature was not found in the Stripe-Signature header. Make sure you're using the correct webhook secret (whsec_) and confirm the incoming request came from Stripe.\n   at Stripe.EventUtility.ValidateSignature(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 182\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 155\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:52.9910467+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":1.5453,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:52.9920823+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"67cc00f1-5c49-482e-8360-90dce05fbfa6","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:52.9927552+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":4.7506,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:52.9931750+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:53:52.9934951+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":6.563375,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6ALTBO6L:00000005","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"6.5634"}]}}
{"Timestamp":"2025-12-16T01:53:52.9943063+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"51ec60bbb9c9c6c7a6e8df66cb9c576f","SpanId":"6b75b09b024ac30e","Properties":{"ElapsedMilliseconds":7.9962,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6ALTBO6L:00000005","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6ALTBO6L","MachineName":"linux","ThreadId":61}}
{"Timestamp":"2025-12-16T01:54:16.2311368+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:54:46.2351108+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:55:16.2412800+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:55:38.5212745+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":62},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:55:38.5223172+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":62},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T01:55:38.5235757+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:7a0b3a5a stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:7a0b3a5a stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5235765+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:eb2e4a75 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:eb2e4a75 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5240167+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:85d94529 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:85d94529 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5243411+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:72305d02 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:72305d02 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5235757+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:fb0fd905 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:fb0fd905 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5251488+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1bc21974 stopped in 0.2795 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1bc21974 stopped in 0.2795 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5255554+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":62}}
{"Timestamp":"2025-12-16T01:55:38.5236462+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:d94f1818 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:d94f1818 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5238069+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a1f8beee stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a1f8beee stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5259730+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a5da40d5 stopped in 1.1094 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a5da40d5 stopped in 1.1094 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5238667+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:1f53d25e stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:1f53d25e stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5268112+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:92588d78 stopped in 1.9527 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:92588d78 stopped in 1.9527 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5239511+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:45e16aa9 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:45e16aa9 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5274029+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:3d7d0ae1 stopped in 2.5349 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:3d7d0ae1 stopped in 2.5349 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5240577+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:89e01d31 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:89e01d31 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5241864+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:07a4de91 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:07a4de91 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5242270+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:f91f53e2 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:f91f53e2 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5244899+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:d569fdb3 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:d569fdb3 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5244899+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:252af171 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:252af171 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5235758+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:0d9d5d66 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:0d9d5d66 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5246832+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:70b2085d stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:70b2085d stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5251985+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:0369df25 stopped in 0.3338 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:0369df25 stopped in 0.3338 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5253233+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:82997587 stopped in 0.4611 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:82997587 stopped in 0.4611 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5235874+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:49914760 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:49914760 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5267001+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:32981cfd stopped in 1.8283 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:32981cfd stopped in 1.8283 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5269833+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:4aa7895a stopped in 2.1172 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:4aa7895a stopped in 2.1172 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5240576+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:78cf1dc9 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:78cf1dc9 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:55:38.5421773+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":64},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:55:39.0440055+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 caught stopped signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":64},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 caught stopped signal..."}]}}
{"Timestamp":"2025-12-16T01:55:39.1247827+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:64aeabe7 stopped in 599.8983 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:64aeabe7 stopped in 599.8983 ms"}]}}
{"Timestamp":"2025-12-16T01:55:39.1257382+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T01:55:39.1276166+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:45c7d8de stopped in 0.2195 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:45c7d8de stopped in 0.2195 ms"}]}}
{"Timestamp":"2025-12-16T01:55:39.1436610+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 successfully reported itself as stopped in 9.3704 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 successfully reported itself as stopped in 9.3704 ms"}]}}
{"Timestamp":"2025-12-16T01:55:39.1441207+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:80492:9e738fe2 has been stopped in total 619.018 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:80492:9e738fe2 has been stopped in total 619.018 ms"}]}}
{"Timestamp":"2025-12-16T01:55:39.1448135+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:b99ca196 stopped in 619.7054 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:b99ca196 stopped in 619.7054 ms"}]}}
{"Timestamp":"2025-12-16T01:55:46.7962405+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:55:47.9902068+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:55:47.9916553+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:55:47.9918909+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T01:55:49.0463776+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"55","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:55:49.0738651+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:55:49.1161747+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"37","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:55:49.2450438+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"12","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:55:49.2823878+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:55:49.2854167+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:55:49.2970973+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:49.3198721+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:49.3364699+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:49.8031698+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:55:50.1526726+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"21","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:55:50.5378876+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T01:55:50.5918025+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T01:55:51.1324253+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:55:51.1527859+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T01:55:51.1534447+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T01:55:51.1541113+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T01:55:51.1812516+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:4ec8891d has started in 4.437 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:4ec8891d has started in 4.437 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.1824271+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:55:51.1829536+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:55:51.1831830+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:55:51.1969939+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec successfully announced in 12.3501 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec successfully announced in 12.3501 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2004546+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:3f67f7ff has started in 2.0003 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:3f67f7ff has started in 2.0003 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2013985+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T01:55:51.2049007+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:d5c358b2 has started in 2.1906 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:d5c358b2 has started in 2.1906 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2064252+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:53647403 has started in 1.218 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:53647403 has started in 1.218 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2073383+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:ffb6ceb8 has started in 1.0216 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:ffb6ceb8 has started in 1.0216 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2077187+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:01efec74 has started in 0.3532 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:01efec74 has started in 0.3532 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2081129+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:54108660 has started in 0.3833 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:54108660 has started in 0.3833 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2095169+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:5736d6ba has started in 1.2666 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:5736d6ba has started in 1.2666 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2099346+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:b055dfa8 has started in 1.6813 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:b055dfa8 has started in 1.6813 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2104217+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Aggregating records in 'Counter' table...","SourceContext":"Hangfire.SqlServer.CountersAggregator","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Aggregating records in 'Counter' table..."}]}}
{"Timestamp":"2025-12-16T01:55:51.2107550+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:957348a2 has started in 2.5251 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:957348a2 has started in 2.5251 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2110118+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fe498d33 has started in 2.7863 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fe498d33 has started in 2.7863 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2113035+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:be75ed11 has started in 3.0808 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:be75ed11 has started in 3.0808 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2118010+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:439dfcd9 has started in 3.5711 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:439dfcd9 has started in 3.5711 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2119486+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'AggregatedCounter' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'AggregatedCounter' table..."}]}}
{"Timestamp":"2025-12-16T01:55:51.2124540+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:26ef5cc0 has started in 4.1977 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:26ef5cc0 has started in 4.1977 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2132624+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:6a1f28a0 has started in 4.9766 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:6a1f28a0 has started in 4.9766 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2138596+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:232ee417 has started in 5.6136 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:232ee417 has started in 5.6136 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2142938+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:586ef493 has started in 6.0607 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:586ef493 has started in 6.0607 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2168909+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:5a3489bc has started in 8.6018 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:5a3489bc has started in 8.6018 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2175801+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:7ad5333c has started in 9.36 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:7ad5333c has started in 9.36 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2152551+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:7c872b72 has started in 7.0174 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:7c872b72 has started in 7.0174 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2160817+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fc0f1087 has started in 7.8488 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fc0f1087 has started in 7.8488 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2163924+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:bcdc31bd has started in 8.1681 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:bcdc31bd has started in 8.1681 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2165831+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:23f23eb6 has started in 8.3619 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:23f23eb6 has started in 8.3619 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2170010+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:f59b3a3b has started in 8.7821 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:f59b3a3b has started in 8.7821 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2173013+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:386b8992 has started in 9.055 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:386b8992 has started in 9.055 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2148630+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a89a95d0 has started in 6.6256 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a89a95d0 has started in 6.6256 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2177561+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:41556af8 has started in 9.5359 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:41556af8 has started in 9.5359 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2209807+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:1456d785 has started in 3.0944 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:1456d785 has started in 3.0944 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2213127+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T01:55:51.2213240+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:2357d003 has started in 0.341 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:2357d003 has started in 0.341 ms"}]}}
{"Timestamp":"2025-12-16T01:55:51.2437768+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Job' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Job' table..."}]}}
{"Timestamp":"2025-12-16T01:55:51.2529835+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'List' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'List' table..."}]}}
{"Timestamp":"2025-12-16T01:55:51.2567224+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Set' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Set' table..."}]}}
{"Timestamp":"2025-12-16T01:55:51.2611674+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Removing outdated records from the 'Hash' table...","SourceContext":"Hangfire.SqlServer.ExpirationManager","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Removing outdated records from the 'Hash' table..."}]}}
{"Timestamp":"2025-12-16T01:55:52.0786653+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:52.2188806+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":42.272935,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6LT922QA:00000001","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.2729"}]}}
{"Timestamp":"2025-12-16T01:55:52.2433644+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:52.2705439+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6c6fd69b-d066-4c9a-90b2-414e277ebd93","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:52.2979883+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6c6fd69b-d066-4c9a-90b2-414e277ebd93","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:52.3074327+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":1.3285,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6c6fd69b-d066-4c9a-90b2-414e277ebd93","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:52.3289536+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"6c6fd69b-d066-4c9a-90b2-414e277ebd93","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:52.3753447+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":98.2742,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:52.3760262+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:52.3764097+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":138.129252,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6LT922QA:00000001","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"138.1293"}]}}
{"Timestamp":"2025-12-16T01:55:52.3795689+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"ElapsedMilliseconds":301.0582,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:55:52.3808080+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"46daa32b8d5f94c9a541f65f804d0c39","SpanId":"b911b00eba00112a","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QA:00000001","RequestPath":"/","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:56:04.5434851+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:56:04.5469781+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:56:04.6718824+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:56:04.6857676+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c5de6e6b-9e52-4e42-88be-b648fbe84022","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:56:04.6959529+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c5de6e6b-9e52-4e42-88be-b648fbe84022","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T01:56:04.8648849+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"elapsed":"3","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c5de6e6b-9e52-4e42-88be-b648fbe84022","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:06.1611185+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"elapsed":"1","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c5de6e6b-9e52-4e42-88be-b648fbe84022","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T01:56:06.4311034+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"elapsed":"5","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c5de6e6b-9e52-4e42-88be-b648fbe84022","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:06.4615137+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1764.942,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c5de6e6b-9e52-4e42-88be-b648fbe84022","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:06.4674429+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c5de6e6b-9e52-4e42-88be-b648fbe84022","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:06.4725023+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":1786.0878,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:06.4754372+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:06.4813222+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":200,"Elapsed":1933.917441,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6LT922QA:00000002","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":14},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1933.9174"}]}}
{"Timestamp":"2025-12-16T01:56:06.5042112+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f9ad702e26b2cc49bab6741713d22684","SpanId":"258b435632762919","Properties":{"ElapsedMilliseconds":1960.4953,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QA:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6LT922QA","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:21.2187291+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:56:41.2403448+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3732,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.2484431+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.2555293+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.2618358+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.3215653+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":2315,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.3229556+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.3235045+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.3342754+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.4444311+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4452374+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4456896+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4473134+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4480967+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.4480911+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Exception":"Stripe.StripeException: The expected signature was not found in the Stripe-Signature header. Make sure you're using the correct webhook secret (whsec_) and confirm the incoming request came from Stripe.\n   at Stripe.EventUtility.ValidateSignature(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 182\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 155\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4511959+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.4628793+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":1967,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4731461+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":138.3463,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.4734939+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":25.8646,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4738902+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":211.7304,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.4748677+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.4754335+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4754334+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":151.5441,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.4754392+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.4743945+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4760143+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.4760690+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":29.9693,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4764422+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":220.2483,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.4772522+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4771199+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":154.579114,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6LT922QC:00000001","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"154.5791"}]}}
{"Timestamp":"2025-12-16T01:56:41.4780733+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9af368bd4a19f5367add244bb8400e80","SpanId":"6f458943fa9865aa","Properties":{"ElapsedMilliseconds":156.5018,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QC:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QC","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T01:56:41.4776012+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":32.471171,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6LT922QD:00000001","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.4712"}]}}
{"Timestamp":"2025-12-16T01:56:41.4774040+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.4779058+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4789751+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f1eadbd93b4b7dd43ab4393c5c796f55","SpanId":"b64f1b95f2ddce36","Properties":{"ElapsedMilliseconds":34.5233,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"yu-vitrescible-nonidiomatically.ngrok-free.dev","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QD:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QD","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T01:56:41.4791695+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":231.531624,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6LT922QB:00000001","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"231.5316"}]}}
{"Timestamp":"2025-12-16T01:56:41.4806223+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4808519+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d88dddebe3e2683c87e1da2acb5295a4","SpanId":"4c5d1d4a0c7fb670","Properties":{"ElapsedMilliseconds":240.5257,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QB:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:41.4830680+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4843262+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":2.9253,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4848253+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4855050+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":5.9828,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4859941+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4861992+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":11.964543,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6LT922QE:00000001","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.9645"}]}}
{"Timestamp":"2025-12-16T01:56:41.4866339+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d56ab52dc9a150d63bd069489bee7732","SpanId":"8e97e520ea0fdfdd","Properties":{"ElapsedMilliseconds":23.7494,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QE:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QE","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4962877+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4968706+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4972486+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.4985088+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.5065183+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.5073835+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":8.4668,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.5078942+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.5083027+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":10.6984,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.5085799+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:41.5087943+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":12.023553,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6LT922QB:00000002","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"12.0236"}]}}
{"Timestamp":"2025-12-16T01:56:41.5094793+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"69de03e2bee7372bc27f23b9d2d87b97","SpanId":"8e7dd6dee2d90f4c","Properties":{"ElapsedMilliseconds":13.1388,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QB:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T01:56:43.6899923+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3973,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:43.6910654+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:43.6914344+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:43.6927054+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:43.7099510+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:43.7108497+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":17.8237,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:43.7116306+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"ac40e13f-0c12-4d4e-9c40-494da837f18d","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:43.7120794+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":20.077,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:43.7123652+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:43.7125868+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":21.619952,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6LT922QB:00000003","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.6200"}]}}
{"Timestamp":"2025-12-16T01:56:43.7130864+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"743dea6a6788f0bf07d6630403390ca3","SpanId":"29b040bd13084c78","Properties":{"ElapsedMilliseconds":23.1551,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6LT922QB:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6LT922QB","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T01:56:51.2239784+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:57:21.2295451+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:57:51.2373871+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:58:21.2444515+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:58:51.2515276+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:59:21.2574797+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec heartbeat successfully sent","SourceContext":"Hangfire.Server.ServerHeartbeatProcess","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec heartbeat successfully sent"}]}}
{"Timestamp":"2025-12-16T01:59:43.7269632+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":51},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:59:43.7278571+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":51},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T01:59:43.7287461+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop RecurringJobScheduler:2357d003 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":43},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop RecurringJobScheduler:2357d003 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7287460+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop DelayedJobScheduler:1456d785 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":42},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop DelayedJobScheduler:1456d785 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7291043+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fc0f1087 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":34},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fc0f1087 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7287460+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerJobCancellationWatcher:53647403 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":18},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerJobCancellationWatcher:53647403 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7294341+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:386b8992 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":39},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:386b8992 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7291611+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:41556af8 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":41},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:41556af8 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7302691+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:23f23eb6 stopped in 0.5061 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":36},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:23f23eb6 stopped in 0.5061 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7292763+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:bcdc31bd stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":35},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:bcdc31bd stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7306454+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop CountersAggregator:54108660 stopped in 0.876 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":21},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop CountersAggregator:54108660 stopped in 0.876 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7300543+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:439dfcd9 stopped in 0.2906 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":27},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:439dfcd9 stopped in 0.2906 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7293125+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:7ad5333c stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":40},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:7ad5333c stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7293888+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:7c872b72 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":33},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:7c872b72 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7294779+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:232ee417 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":30},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:232ee417 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7316096+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:b055dfa8 stopped in 1.8451 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":23},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:b055dfa8 stopped in 1.8451 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7295111+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:5736d6ba stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":22},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:5736d6ba stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7297602+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:5a3489bc stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":37},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:5a3489bc stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7300143+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerWatchdog:d5c358b2 stopped in 0.2393 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":17},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerWatchdog:d5c358b2 stopped in 0.2393 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7301222+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:fe498d33 stopped in 0.3605 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":25},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:fe498d33 stopped in 0.3605 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7292719+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:957348a2 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":24},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:957348a2 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7303153+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":51}}
{"Timestamp":"2025-12-16T01:59:43.7292835+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:26ef5cc0 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":28},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:26ef5cc0 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7315000+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:586ef493 stopped in 1.7118 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":31},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:586ef493 stopped in 1.7118 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7317302+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:f59b3a3b stopped in 1.9635 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":38},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:f59b3a3b stopped in 1.9635 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7318295+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:be75ed11 stopped in 2.0684 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":26},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:be75ed11 stopped in 2.0684 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7320178+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:a89a95d0 stopped in 2.2517 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":32},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:a89a95d0 stopped in 2.2517 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7287611+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ExpirationManager:01efec74 stopped in 0 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":20},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ExpirationManager:01efec74 stopped in 0 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7324648+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop Worker:6a1f28a0 stopped in 2.6859 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":29},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop Worker:6a1f28a0 stopped in 2.6859 ms"}]}}
{"Timestamp":"2025-12-16T01:59:43.7480743+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire Server is stopping...","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":54},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire Server is stopping..."}]}}
{"Timestamp":"2025-12-16T01:59:44.2497938+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop SqlServerHeartbeatProcess:ffb6ceb8 stopped in 519.8894 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":19},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop SqlServerHeartbeatProcess:ffb6ceb8 stopped in 519.8894 ms"}]}}
{"Timestamp":"2025-12-16T01:59:44.2502050+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec caught stopped signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":54},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec caught stopped signal..."}]}}
{"Timestamp":"2025-12-16T01:59:44.2510239+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T01:59:44.2524610+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop ServerHeartbeatProcess:3f67f7ff stopped in 0.2113 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":16},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop ServerHeartbeatProcess:3f67f7ff stopped in 0.2113 ms"}]}}
{"Timestamp":"2025-12-16T01:59:44.2679932+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec successfully reported itself as stopped in 9.9779 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec successfully reported itself as stopped in 9.9779 ms"}]}}
{"Timestamp":"2025-12-16T01:59:44.2685201+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:82601:c96ea1ec has been stopped in total 538.5301 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:82601:c96ea1ec has been stopped in total 538.5301 ms"}]}}
{"Timestamp":"2025-12-16T01:59:44.2692692+02:00","Level":"Debug","MessageTemplate":"{State:l}","Properties":{"State":"Execution loop BackgroundServerProcess:4ec8891d stopped in 539.2709 ms","SourceContext":"Hangfire.Processing.BackgroundExecution","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Execution loop BackgroundServerProcess:4ec8891d stopped in 539.2709 ms"}]}}
{"Timestamp":"2025-12-16T02:01:19.2341928+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:01:20.4352546+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:01:20.4370110+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:01:20.4373535+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:01:21.9465596+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"135","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:22.0075234+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:22.0837536+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"64","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:22.2624007+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"16","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:22.2997741+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:22.3023162+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:22.3137785+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:22.3414392+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:22.3628243+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:23.0443485+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:01:23.4526951+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:23.8708890+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T02:01:23.9285648+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T02:01:24.4604684+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:24.4812950+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T02:01:24.4823059+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T02:01:24.4837207+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T02:01:24.5154612+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:24.5161797+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:24.5164504+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:24.5324323+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:83689:7f20e33e successfully announced in 14.7949 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:83689:7f20e33e successfully announced in 14.7949 ms"}]}}
{"Timestamp":"2025-12-16T02:01:24.5400488+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:83689:7f20e33e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:83689:7f20e33e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T02:01:24.5518134+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:83689:7f20e33e all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:83689:7f20e33e all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T02:01:24.7137997+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:24.8888105+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":45.349499,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6P0D40AJ:00000001","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"45.3495"}]}}
{"Timestamp":"2025-12-16T02:01:24.9113069+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:24.9419534+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a61aab5a-bd3f-49b1-b532-2654260029f0","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:24.9827513+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a61aab5a-bd3f-49b1-b532-2654260029f0","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:24.9918048+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":1.2907,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a61aab5a-bd3f-49b1-b532-2654260029f0","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:25.0197237+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a61aab5a-bd3f-49b1-b532-2654260029f0","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:25.0657779+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"@__thresholdDate_0='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [f].[Id], [f].[ContentType], [f].[CreatedAt], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[IsDeleted], [f].[OriginalName], [f].[Size], [f].[UpdatedAt], [f].[UserId]\nFROM [FileRecords] AS [f]\nWHERE [f].[IsDeleted] = CAST(1 AS bit) AND [f].[DeletedAt] < @__thresholdDate_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:01:25.0713664+02:00","Level":"Information","MessageTemplate":"No Files found","Properties":{"SourceContext":"TouristsService.JobService","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:01:25.0854988+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":134.4761,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:25.0859371+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:25.0861921+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":179.709667,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6P0D40AJ:00000001","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"179.7097"}]}}
{"Timestamp":"2025-12-16T02:01:25.0909806+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"ElapsedMilliseconds":377.4061,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:25.0921756+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"30c56e525f6ef763a5b72bb19b203282","SpanId":"52475a3cfeebc84f","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AJ:00000001","RequestPath":"/","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:25.1197526+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"@__oneHourAgo_0='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id], [t0].[AvailableSeats], [t0].[CreatedAt], [t0].[DeletedAt], [t0].[IsDeleted], [t0].[RowVersion], [t0].[StartTime], [t0].[TourId], [t0].[UpdatedAt]\nFROM [Bookings] AS [b]\nLEFT JOIN (\n    SELECT [t].[Id], [t].[AvailableSeats], [t].[CreatedAt], [t].[DeletedAt], [t].[IsDeleted], [t].[RowVersion], [t].[StartTime], [t].[TourId], [t].[UpdatedAt]\n    FROM [TourSchedule] AS [t]\n    WHERE [t].[IsDeleted] = CAST(0 AS bit)\n) AS [t0] ON [b].[TourScheduleId] = [t0].[Id]\nWHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Status] = N'Pending' AND [b].[BookingDate] < @__oneHourAgo_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:25.1216857+02:00","Level":"Information","MessageTemplate":"No booking in the database","Properties":{"SourceContext":"TouristsService.JobService","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:01:40.8864624+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:01:40.8902830+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:01:41.0087960+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:01:41.0191828+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9de02f2e-1565-4758-b512-6c89d653d6aa","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:01:41.0250604+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9de02f2e-1565-4758-b512-6c89d653d6aa","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:01:41.1781074+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9de02f2e-1565-4758-b512-6c89d653d6aa","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:01:42.3434938+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"elapsed":"1","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9de02f2e-1565-4758-b512-6c89d653d6aa","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:01:42.6211392+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"elapsed":"5","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9de02f2e-1565-4758-b512-6c89d653d6aa","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:01:42.6484300+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1622.7627,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9de02f2e-1565-4758-b512-6c89d653d6aa","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:01:42.6536853+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9de02f2e-1565-4758-b512-6c89d653d6aa","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:01:42.6622329+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":1642.4376,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:01:42.6642631+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:01:42.6718514+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":200,"Elapsed":1781.068325,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6P0D40AJ:00000002","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1781.0683"}]}}
{"Timestamp":"2025-12-16T02:01:42.6902707+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b2de92971dfd8ca374ad762dbf3d943f","SpanId":"45ec14a547a9db62","Properties":{"ElapsedMilliseconds":1803.864,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AJ:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6P0D40AJ","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.3118438+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3732,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.3277849+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.3397910+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.3439855+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.3636962+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":2315,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.3644883+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.3650722+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.3723999+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.4101021+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":1967,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.4108394+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.4112181+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.4125414+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.5292844+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.5292855+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.5538692+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":181.0831,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.5545982+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":141.6427,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.5467946+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.5556030+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.5560181+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":211.6326,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.5556204+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.5558230+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:23.5563928+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":190.8857,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.5566106+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":145.0145,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.5567023+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.5571840+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.5573509+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:23.5575214+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.5578850+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":217.4698,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.5585901+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":147.777211,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6P0D40AM:00000001","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"147.7772"}]}}
{"Timestamp":"2025-12-16T02:02:23.5579713+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":193.589752,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6P0D40AL:00000001","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"193.5898"}]}}
{"Timestamp":"2025-12-16T02:02:23.5584879+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:23.5594248+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"db75bbe11d1916fa61db576990d66e10","SpanId":"5c1a0d58e2a72d2f","Properties":{"ElapsedMilliseconds":149.296,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AM:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AM","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:02:23.5587912+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.5603853+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":234.935521,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6P0D40AK:00000001","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"234.9355"}]}}
{"Timestamp":"2025-12-16T02:02:23.5611327+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dcf3c924af453583db44812dac1efe86","SpanId":"0a62c36774008a1a","Properties":{"ElapsedMilliseconds":249.3809,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AK:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AK","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:02:23.5611095+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d1be6799e5bc0a5a4bfa0e9ae216406a","SpanId":"ce0bade475865e10","Properties":{"ElapsedMilliseconds":197.3896,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AL:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:02:23.5614816+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:23.5675155+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:23.5696316+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":6.877,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:23.5706398+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:23.5712858+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":11.7369,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:23.5719832+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:23.5726918+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":15.599664,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6P0D40AN:00000001","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.5997"}]}}
{"Timestamp":"2025-12-16T02:02:23.5733700+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f01ec9378b78bafc762980172816e0bc","SpanId":"4ef7c17cbcf308db","Properties":{"ElapsedMilliseconds":17.5243,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AN:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AN","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6486499+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3973,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6501979+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6514588+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6559465+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6759658+02:00","Level":"Error","MessageTemplate":"Stripe webhook error","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Exception":"Stripe.StripeException: Received event with API version 2025-11-17.clover, but Stripe.net 50.2.0-alpha.1 expects API version 2025-12-15.preview. We recommend that you create a WebhookEndpoint with this API version. Otherwise, you can disable this exception by passing `throwOnApiVersionMismatch: false` to `Stripe.EventUtility.ParseEvent` or `Stripe.EventUtility.ConstructEvent`, but be wary that objects may be incorrectly deserialized.\n   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 75\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Int64 utcNow, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 156\n   at Stripe.EventUtility.ConstructEvent(String json, String stripeSignatureHeader, String secret, Int64 tolerance, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 116\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 52","Properties":{"SourceContext":"TouristsAPI.Controllers.PaymentController","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6771662+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":20.6434,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6781492+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c221886f-7e81-465c-8ac0-59453e21bdb1","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6785401+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":26.0014,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6787485+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:02:25.6789244+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":400,"Elapsed":29.114279,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6P0D40AL:00000002","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.1143"}]}}
{"Timestamp":"2025-12-16T02:02:25.6792406+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9698ad7bded042362b32453b7f65fe92","SpanId":"65e2d8e7c7e32778","Properties":{"ElapsedMilliseconds":30.6219,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6P0D40AL:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6P0D40AL","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:03:34.0373084+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:83689:7f20e33e caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":52},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:83689:7f20e33e caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T02:03:34.0419918+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":52}}
{"Timestamp":"2025-12-16T02:03:34.5657975+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:83689:7f20e33e All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:83689:7f20e33e All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T02:03:34.5673880+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:83689:7f20e33e caught stopped signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":58},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:83689:7f20e33e caught stopped signal..."}]}}
{"Timestamp":"2025-12-16T02:03:34.5725744+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:83689:7f20e33e successfully reported itself as stopped in 4.3378 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:83689:7f20e33e successfully reported itself as stopped in 4.3378 ms"}]}}
{"Timestamp":"2025-12-16T02:03:34.5727920+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:83689:7f20e33e has been stopped in total 531.0499 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:83689:7f20e33e has been stopped in total 531.0499 ms"}]}}
{"Timestamp":"2025-12-16T02:03:56.0003021+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:03:57.4199877+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:03:57.4217022+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:03:57.4220338+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:03:58.5671600+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"51","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:03:58.5950228+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:03:58.6373659+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"37","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:03:58.7804202+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"14","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:03:58.8241358+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:03:58.8279470+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:03:58.8366457+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:03:58.8627566+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:03:58.8795636+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:03:59.3950323+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:03:59.8263302+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"40","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:00.3350879+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T02:04:00.4139741+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T02:04:00.9940245+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:01.0100487+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T02:04:01.0110022+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T02:04:01.0121659+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":14},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T02:04:01.0520044+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:01.0527324+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:01.0530496+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:01.0695696+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:84383:c244783b successfully announced in 15.8192 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:84383:c244783b successfully announced in 15.8192 ms"}]}}
{"Timestamp":"2025-12-16T02:04:01.0734068+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:84383:c244783b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:84383:c244783b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T02:04:01.0835493+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:84383:c244783b all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:84383:c244783b all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T02:04:01.3210257+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:01.4548984+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":35.728314,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6QF2RAM4:00000001","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.7283"}]}}
{"Timestamp":"2025-12-16T02:04:01.4699367+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:01.4901384+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1291931d-6f34-44f3-83b5-e5ad054c8d42","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:01.5114243+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1291931d-6f34-44f3-83b5-e5ad054c8d42","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:01.5223801+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":1.8424,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1291931d-6f34-44f3-83b5-e5ad054c8d42","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:01.5412321+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1291931d-6f34-44f3-83b5-e5ad054c8d42","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:01.5879706+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":85.4221,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:01.5886880+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:01.5891187+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":122.483316,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6QF2RAM4:00000001","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"122.4833"}]}}
{"Timestamp":"2025-12-16T02:04:01.5924483+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"ElapsedMilliseconds":272.4192,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:01.5937028+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"0b5b6c8cc1e82bb2a70e52e989bb6d99","SpanId":"0139606644365182","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM4:00000001","RequestPath":"/","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:04:09.1131684+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:09.1167922+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:09.2172920+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:09.2257478+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bdc142ee-a670-4b76-946c-f6816a9b7d00","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:09.2340457+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bdc142ee-a670-4b76-946c-f6816a9b7d00","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:09.3709771+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bdc142ee-a670-4b76-946c-f6816a9b7d00","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:10.5737162+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"elapsed":"1","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bdc142ee-a670-4b76-946c-f6816a9b7d00","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:04:10.8376350+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"elapsed":"5","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bdc142ee-a670-4b76-946c-f6816a9b7d00","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:10.8641960+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1629.6376,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"bdc142ee-a670-4b76-946c-f6816a9b7d00","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:10.8703267+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"bdc142ee-a670-4b76-946c-f6816a9b7d00","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:10.8786793+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":1652.421,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:10.8810355+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:10.8870305+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":200,"Elapsed":1769.609069,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6QF2RAM4:00000002","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1769.6091"}]}}
{"Timestamp":"2025-12-16T02:04:10.9087337+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6e7d2f0a0a11d8b100b31432c72218ca","SpanId":"46f6418c9f2c6016","Properties":{"ElapsedMilliseconds":1795.6102,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM4:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6QF2RAM4","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:40.9083102+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3731,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM5:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:40.9209277+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM5:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:40.9294626+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM5:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:40.9360174+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","RequestId":"0HNHS6QF2RAM5:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:40.9624607+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":2315,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM6:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:04:40.9632446+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM6:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:04:40.9635701+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM6:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:04:40.9701068+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","RequestId":"0HNHS6QF2RAM6:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:04:41.1050042+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":168.434,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","RequestId":"0HNHS6QF2RAM5:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:41.1050042+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":134.5477,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","RequestId":"0HNHS6QF2RAM6:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:04:41.1114481+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM6:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:04:41.1114432+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM5:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:41.1117437+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":147.8396,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6QF2RAM6:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:04:41.1118132+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":181.9819,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6QF2RAM5:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:41.1119772+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM6:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:04:41.1121032+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM5:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:41.1122424+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":149.103423,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6QF2RAM6:00000001","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"149.1034"}]}}
{"Timestamp":"2025-12-16T02:04:41.1123429+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":196.375292,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6QF2RAM5:00000001","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"196.3753"}]}}
{"Timestamp":"2025-12-16T02:04:41.1132642+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c41c6456c330f08ab57b7b6aeb27d659","SpanId":"c92f8170c5f768be","Properties":{"ElapsedMilliseconds":150.5762,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM6:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM6","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:04:41.1140228+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d13bd25d1e6476b88915e819fabe9fc8","SpanId":"1b0429686eda8479","Properties":{"ElapsedMilliseconds":205.6929,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM5:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:41.1313625+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":1967,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM5:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.1319825+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM5:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.1322314+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM5:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.1333166+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","RequestId":"0HNHS6QF2RAM5:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.1348811+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":1.2859,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","RequestId":"0HNHS6QF2RAM5:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.1354330+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM5:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.1356781+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":3.1696,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6QF2RAM5:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.1359974+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM5:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.1362678+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":4.382986,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6QF2RAM5:00000002","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4.3830"}]}}
{"Timestamp":"2025-12-16T02:04:41.1367226+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"29058e4be4ccbc11c05b46a5fdb6e761","SpanId":"9c735b3616310358","Properties":{"ElapsedMilliseconds":5.3321,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM5:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.2066822+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:41.2073307+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:41.2076057+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:41.2090350+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:41.3301734+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Properties":{"elapsed":"17","parameters":"@__session_Id_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt], [b0].[Id], [b0].[BookingDate], [b0].[CreatedAt], [b0].[DeletedAt], [b0].[EndAt], [b0].[IsDeleted], [b0].[PriceAtBooking], [b0].[StartAt], [b0].[Status], [b0].[TicketCount], [b0].[TourId], [b0].[TourScheduleId], [b0].[TouristId], [b0].[UpdatedAt]\nFROM [Payments] AS [p]\nINNER JOIN (\n    SELECT [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt]\n    FROM [Bookings] AS [b]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\n) AS [b0] ON [p].[BookingId] = [b0].[Id]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TransactionId] = @__session_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.4555134+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Properties":{"elapsed":"7","parameters":"@p1='?' (DbType = Int32), @p0='?' (Size = 4000), @p14='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET NOCOUNT ON;\nUPDATE [Bookings] SET [Status] = @p0\nOUTPUT 1\nWHERE [Id] = @p1;\nUPDATE [Payments] SET [Amount] = @p2, [BookingId] = @p3, [CreatedAt] = @p4, [Currency] = @p5, [DeletedAt] = @p6, [FailureMessage] = @p7, [IsDeleted] = @p8, [PaymentDate] = @p9, [Provider] = @p10, [Status] = @p11, [TransactionId] = @p12, [UpdatedAt] = @p13\nOUTPUT 1\nWHERE [Id] = @p14;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.4878990+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":280.0093,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.4884604+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.4890512+02:00","Level":"Error","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at lambda_method585(Closure, Object, List`1)\n   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Compiler`2.<>c__DisplayClass7_1.<CompileFromFingerprint>b__1(TIn model) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\ExpressionUtil\\CachedExpressionCompiler.cs:line 91\n   at Hangfire.Common.CachedExpressionCompiler.Evaluate(Expression arg) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\CachedExpressionCompiler.cs:line 33\n   at Hangfire.Common.Job.GetExpressionValue(Expression expression) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 557\n   at Hangfire.Common.Job.GetExpressionValues(ReadOnlyCollection`1 expressions) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 547\n   at Hangfire.Common.Job.FromExpression(LambdaExpression methodCall, Type explicitType, String queue) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 457\n   at Hangfire.Common.Job.FromExpression(Expression`1 methodCall, String queue) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 357\n   at Hangfire.Common.Job.FromExpression(Expression`1 methodCall) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 352\n   at Hangfire.BackgroundJobClientExtensions.Create(IBackgroundJobClient client, Expression`1 methodCall, IState state) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\BackgroundJobClientExtensions.cs:line 541\n   at Hangfire.BackgroundJobClientExtensions.Enqueue(IBackgroundJobClient client, Expression`1 methodCall) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\BackgroundJobClientExtensions.cs:line 86\n   at TouristsService.PaymentService.HandleCheckoutCompletedAsync(Session session) in /home/omarabdo/Desktop/TouristsAPI/TouristsService/PaymentService.cs:line 139\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 65\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":500,"Elapsed":281.806782,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6QF2RAM5:00000003","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"281.8068"}]}}
{"Timestamp":"2025-12-16T02:04:41.5213808+02:00","Level":"Error","MessageTemplate":"Object reference not set to an instance of an object.","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Exception":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at lambda_method585(Closure, Object, List`1)\n   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Compiler`2.<>c__DisplayClass7_1.<CompileFromFingerprint>b__1(TIn model) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\ExpressionUtil\\CachedExpressionCompiler.cs:line 91\n   at Hangfire.Common.CachedExpressionCompiler.Evaluate(Expression arg) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\CachedExpressionCompiler.cs:line 33\n   at Hangfire.Common.Job.GetExpressionValue(Expression expression) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 557\n   at Hangfire.Common.Job.GetExpressionValues(ReadOnlyCollection`1 expressions) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 547\n   at Hangfire.Common.Job.FromExpression(LambdaExpression methodCall, Type explicitType, String queue) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 457\n   at Hangfire.Common.Job.FromExpression(Expression`1 methodCall, String queue) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 357\n   at Hangfire.Common.Job.FromExpression(Expression`1 methodCall) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\Common\\Job.cs:line 352\n   at Hangfire.BackgroundJobClientExtensions.Create(IBackgroundJobClient client, Expression`1 methodCall, IState state) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\BackgroundJobClientExtensions.cs:line 541\n   at Hangfire.BackgroundJobClientExtensions.Enqueue(IBackgroundJobClient client, Expression`1 methodCall) in C:\\projects\\hangfire-525\\src\\Hangfire.Core\\BackgroundJobClientExtensions.cs:line 86\n   at TouristsService.PaymentService.HandleCheckoutCompletedAsync(Session session) in /home/omarabdo/Desktop/TouristsAPI/TouristsService/PaymentService.cs:line 139\n   at TouristsAPI.Controllers.PaymentController.StripeWebhook() in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/Controllers/PaymentController.cs:line 65\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\n   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at TouristsAPI.MiddleWares.ExceptionMiddleWare.InvokeAsync(HttpContext context) in /home/omarabdo/Desktop/TouristsAPI/TouristsAPI/MiddleWares/ExceptionMiddleWare.cs:line 22","Properties":{"SourceContext":"TouristsAPI.MiddleWares.ExceptionMiddleWare","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:41.5337645+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3fbe7c257aeae3d3197c8b6072cc4b8d","SpanId":"ee12e0f8e5c613a4","Properties":{"ElapsedMilliseconds":327.0423,"StatusCode":500,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM5:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:04:43.2517887+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3972,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM5:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:43.2527363+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM5:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:43.2530254+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM5:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:43.2539485+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","RequestId":"0HNHS6QF2RAM5:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:43.2668107+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":12.5943,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","RequestId":"0HNHS6QF2RAM5:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:43.2673085+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"72b5bb1c-7a47-4e9c-931c-2db97c83b6c2","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6QF2RAM5:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:43.2675594+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":14.2458,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6QF2RAM5:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:43.2677552+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6QF2RAM5:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:04:43.2679478+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":15.369615,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6QF2RAM5:00000004","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"15.3696"}]}}
{"Timestamp":"2025-12-16T02:04:43.2683519+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"de3f0a2b995aa2ae2c62d9c34300b641","SpanId":"21cdfb7467168a06","Properties":{"ElapsedMilliseconds":16.5781,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6QF2RAM5:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6QF2RAM5","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:07:27.7870831+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:84383:c244783b caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":53},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:84383:c244783b caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T02:07:27.7948084+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":53}}
{"Timestamp":"2025-12-16T02:07:28.1174464+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:84383:c244783b All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:84383:c244783b All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T02:07:28.1259248+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:84383:c244783b successfully reported itself as stopped in 4.7032 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:84383:c244783b successfully reported itself as stopped in 4.7032 ms"}]}}
{"Timestamp":"2025-12-16T02:07:28.1262327+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:84383:c244783b has been stopped in total 332.0872 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:84383:c244783b has been stopped in total 332.0872 ms"}]}}
{"Timestamp":"2025-12-16T02:07:35.0946842+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:07:36.3210716+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:07:36.3231616+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:07:36.3234782+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:07:37.3209974+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"49","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:37.3507470+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:37.3948126+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"38","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:37.5178200+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"10","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:37.5637188+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:37.5672184+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:07:37.5780199+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:37.6050865+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:37.6183874+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:38.0881606+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:38.4225631+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:38.8020720+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T02:07:38.8806656+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T02:07:39.4212404+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:39.4359821+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T02:07:39.4369480+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T02:07:39.4380797+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":11},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T02:07:39.4732465+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:39.4738216+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:39.4740621+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:39.4909576+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:85125:5738352c successfully announced in 14.6526 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:85125:5738352c successfully announced in 14.6526 ms"}]}}
{"Timestamp":"2025-12-16T02:07:39.4949601+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:85125:5738352c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:85125:5738352c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T02:07:39.5119853+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:85125:5738352c all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:85125:5738352c all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T02:07:40.3659707+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:40.5308811+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":44.453034,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC30:00000001","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.4530"}]}}
{"Timestamp":"2025-12-16T02:07:40.5540207+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:40.5812892+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b109c7f8-8a1b-41f3-b9b9-284541d865f1","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:40.6087328+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b109c7f8-8a1b-41f3-b9b9-284541d865f1","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:40.6175618+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":1.5962,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b109c7f8-8a1b-41f3-b9b9-284541d865f1","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:40.6434460+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b109c7f8-8a1b-41f3-b9b9-284541d865f1","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:40.6876063+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":100.8155,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:40.6881941+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:40.6886028+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":138.28958,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC30:00000001","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"138.2896"}]}}
{"Timestamp":"2025-12-16T02:07:40.6922113+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"ElapsedMilliseconds":326.668,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:40.6935012+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"74e7ba4eaf6bc07d3875eb83fff2d9b6","SpanId":"e2b60f73d5a160d2","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC30:00000001","RequestPath":"/","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:07:50.0691170+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:50.0722078+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:50.1879756+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:50.2003708+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:50.2109102+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:07:50.3471961+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"elapsed":"1","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:07:51.7055845+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"elapsed":"1","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:07:51.9780116+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"elapsed":"5","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:07:52.0053516+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1793.9573,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:07:52.0094759+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:07:52.0145961+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":1813.6443,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:07:52.0162696+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:07:52.0217217+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1004","StatusCode":200,"Elapsed":1948.958057,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC30:00000002","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":14},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1948.9581"}]}}
{"Timestamp":"2025-12-16T02:07:52.0426542+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6167e01f0f38bd9b12e54989fc59f003","SpanId":"63b406d8af0e7add","Properties":{"ElapsedMilliseconds":1973.5374,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC30:00000002","RequestPath":"/api/Payment/Pay/1004","ConnectionId":"0HNHS6SGBOC30","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:12.8366389+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3731,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC31:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:12.8432314+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC31:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:12.8552095+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC31:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:12.8620390+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC31:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:12.9614959+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":2315,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC32:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:12.9624466+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC32:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:12.9633439+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC32:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:12.9703606+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC32:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.0487073+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":1967,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC33:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:08:13.0493532+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC33:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:08:13.0497227+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC33:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:08:13.0507965+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC33:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:08:13.0588364+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":196.2502,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC31:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:13.0588364+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":88.1656,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC32:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.0588368+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":7.6552,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC33:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:08:13.0661245+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC31:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:13.0661300+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC33:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:08:13.0661308+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC32:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.0664281+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":210.6798,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC31:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:13.0665397+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":16.5595,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC33:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:08:13.0667244+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":102.4867,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC32:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.0669510+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC31:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:13.0671525+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC33:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:08:13.0673268+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC32:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.0674932+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":225.458202,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC31:00000001","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"225.4582"}]}}
{"Timestamp":"2025-12-16T02:08:13.0675930+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":18.354572,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC33:00000001","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.3546"}]}}
{"Timestamp":"2025-12-16T02:08:13.0678061+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":105.678789,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC32:00000001","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"105.6788"}]}}
{"Timestamp":"2025-12-16T02:08:13.0683568+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c33dadf72f305fbe2bf35eb7e82279e9","SpanId":"c5a5178d08e43d4f","Properties":{"ElapsedMilliseconds":231.7266,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC31:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC31","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:08:13.0686484+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5256d21e68d244ccab4b9bcd02b4d349","SpanId":"8350042f46d4ae24","Properties":{"ElapsedMilliseconds":107.143,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC32:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.0687214+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"415df5067116c0e37fe7a75b2ccefa08","SpanId":"548cd546bf2a7c88","Properties":{"ElapsedMilliseconds":20.0228,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC33:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC33","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:08:13.1622810+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3861,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.1630716+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.1634940+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.1655940+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.3142357+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"elapsed":"14","parameters":"@__session_Id_0='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[Amount], [s].[BookingId], [s].[CreatedAt], [s].[Currency], [s].[DeletedAt], [s].[FailureMessage], [s].[IsDeleted], [s].[PaymentDate], [s].[Provider], [s].[Status], [s].[TransactionId], [s].[UpdatedAt], [s].[Id0], [s].[BookingDate], [s].[CreatedAt0], [s].[DeletedAt0], [s].[EndAt], [s].[IsDeleted0], [s].[PriceAtBooking], [s].[StartAt], [s].[Status0], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt], [b0].[Id] AS [Id0], [b0].[BookingDate], [b0].[CreatedAt] AS [CreatedAt0], [b0].[DeletedAt] AS [DeletedAt0], [b0].[EndAt], [b0].[IsDeleted] AS [IsDeleted0], [b0].[PriceAtBooking], [b0].[StartAt], [b0].[Status] AS [Status0], [b0].[TicketCount], [b0].[TourId], [b0].[TourScheduleId], [b0].[TouristId], [b0].[UpdatedAt] AS [UpdatedAt0], [t0].[Id] AS [Id1], [t0].[AvatarFileId], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt1], [t0].[DeletedAt] AS [DeletedAt1], [t0].[FullName], [t0].[IsDeleted] AS [IsDeleted1], [t0].[Phone], [t0].[UpdatedAt] AS [UpdatedAt1], [t0].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Payments] AS [p]\n    INNER JOIN (\n        SELECT [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt]\n        FROM [Bookings] AS [b]\n        WHERE [b].[IsDeleted] = CAST(0 AS bit)\n    ) AS [b0] ON [p].[BookingId] = [b0].[Id]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[AvatarFileId], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[FullName], [t].[IsDeleted], [t].[Phone], [t].[UpdatedAt], [t].[UserId]\n        FROM [TouristProfiles] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b0].[TouristId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t0].[UserId] = [u0].[Id]\n    WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[TransactionId] = @__session_Id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:08:13.5265963+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"elapsed":"1","parameters":"@p1='?' (DbType = Int32), @p0='?' (Size = 4000), @p14='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET NOCOUNT ON;\nUPDATE [Bookings] SET [Status] = @p0\nOUTPUT 1\nWHERE [Id] = @p1;\nUPDATE [Payments] SET [Amount] = @p2, [BookingId] = @p3, [CreatedAt] = @p4, [Currency] = @p5, [DeletedAt] = @p6, [FailureMessage] = @p7, [IsDeleted] = @p8, [PaymentDate] = @p9, [Provider] = @p10, [Status] = @p11, [TransactionId] = @p12, [UpdatedAt] = @p13\nOUTPUT 1\nWHERE [Id] = @p14;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:13.6868940+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":521.072,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:13.6874355+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:13.6876720+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":523.5199,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:13.6879498+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:13.6881966+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":525.28883,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC32:00000002","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"525.2888"}]}}
{"Timestamp":"2025-12-16T02:08:13.6889037+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"751156f3dcfdb15e2fc8ae6cf3d1db62","SpanId":"bd8304f879bd1409","Properties":{"ElapsedMilliseconds":526.607,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC32:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:15.4321205+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3972,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC32:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:15.4328436+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC32:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:15.4331885+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC32:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:15.4342662+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC32:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:15.4485644+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":13.9863,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC32:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:15.4489819+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC32:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:15.4492409+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":15.597,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC32:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:15.4494520+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC32:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:08:15.4496414+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":16.898378,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC32:00000003","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.8984"}]}}
{"Timestamp":"2025-12-16T02:08:15.4500786+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44f740f3d53fdf5831ce8c5dcce1d48d","SpanId":"655bc0157c479b0c","Properties":{"ElapsedMilliseconds":17.9357,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC32:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC32","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:11:39.4751138+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:11:39.4759011+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:11:39.4803232+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:11:39.4805786+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:11:39.4814830+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:11:39.4937418+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:11:40.3278733+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"elapsed":"2","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:11:40.3928146+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"elapsed":"3","parameters":"@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nINSERT INTO [Payments] ([Amount], [BookingId], [CreatedAt], [Currency], [DeletedAt], [FailureMessage], [IsDeleted], [PaymentDate], [Provider], [Status], [TransactionId], [UpdatedAt])\nOUTPUT INSERTED.[Id]\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:11:40.4128678+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":931.1038,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:11:40.4139548+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:11:40.4144143+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":933.583,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:11:40.4147652+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:11:40.4150111+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1","StatusCode":200,"Elapsed":938.871371,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC34:00000001","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"938.8714"}]}}
{"Timestamp":"2025-12-16T02:11:40.4155667+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2d2113bfcb5947bbb516ba54ccfd3ef9","SpanId":"53fe6a528fdbbb3a","Properties":{"ElapsedMilliseconds":940.4451,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC34:00000001","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:06.0994674+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":56}}
{"Timestamp":"2025-12-16T02:12:06.0999586+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":56}}
{"Timestamp":"2025-12-16T02:12:06.1028804+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":56}}
{"Timestamp":"2025-12-16T02:12:06.1031971+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"RouteData":"{action = \"CreateCheckout\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCheckout(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":56}}
{"Timestamp":"2025-12-16T02:12:06.1041506+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":56}}
{"Timestamp":"2025-12-16T02:12:06.1088530+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"elapsed":"2","parameters":"@__id_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [s].[Id], [s].[BookingDate], [s].[CreatedAt], [s].[DeletedAt], [s].[EndAt], [s].[IsDeleted], [s].[PriceAtBooking], [s].[StartAt], [s].[Status], [s].[TicketCount], [s].[TourId], [s].[TourScheduleId], [s].[TouristId], [s].[UpdatedAt], [s].[Id0], [s].[City], [s].[Country], [s].[CreatedAt0], [s].[DeletedAt0], [s].[Description], [s].[DurationMinutes], [s].[GuideProfileId], [s].[IsDeleted0], [s].[IsPublished], [s].[MaxGroupSize], [s].[Price], [s].[Title], [s].[UpdatedAt0], [s].[Id1], [s].[AvatarFileId], [s].[Country0], [s].[CreatedAt1], [s].[DeletedAt1], [s].[FullName], [s].[IsDeleted1], [s].[Phone], [s].[UpdatedAt1], [s].[UserId], [s].[Id2], [s].[AccessFailedCount], [s].[ConcurrencyStamp], [s].[CreatedAt2], [s].[DeletedAt2], [s].[Email], [s].[EmailConfirmed], [s].[IsActive], [s].[IsDeleted2], [s].[LockoutEnabled], [s].[LockoutEnd], [s].[NormalizedEmail], [s].[NormalizedUserName], [s].[PasswordHash], [s].[PhoneNumber], [s].[PhoneNumberConfirmed], [s].[SecurityStamp], [s].[TwoFactorEnabled], [s].[UpdatedAt2], [s].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(1) [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt], [t0].[Id] AS [Id0], [t0].[City], [t0].[Country], [t0].[CreatedAt] AS [CreatedAt0], [t0].[DeletedAt] AS [DeletedAt0], [t0].[Description], [t0].[DurationMinutes], [t0].[GuideProfileId], [t0].[IsDeleted] AS [IsDeleted0], [t0].[IsPublished], [t0].[MaxGroupSize], [t0].[Price], [t0].[Title], [t0].[UpdatedAt] AS [UpdatedAt0], [t2].[Id] AS [Id1], [t2].[AvatarFileId], [t2].[Country] AS [Country0], [t2].[CreatedAt] AS [CreatedAt1], [t2].[DeletedAt] AS [DeletedAt1], [t2].[FullName], [t2].[IsDeleted] AS [IsDeleted1], [t2].[Phone], [t2].[UpdatedAt] AS [UpdatedAt1], [t2].[UserId], [u0].[Id] AS [Id2], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt] AS [CreatedAt2], [u0].[DeletedAt] AS [DeletedAt2], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted] AS [IsDeleted2], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt] AS [UpdatedAt2], [u0].[UserName]\n    FROM [Bookings] AS [b]\n    INNER JOIN (\n        SELECT [t].[Id], [t].[City], [t].[Country], [t].[CreatedAt], [t].[DeletedAt], [t].[Description], [t].[DurationMinutes], [t].[GuideProfileId], [t].[IsDeleted], [t].[IsPublished], [t].[MaxGroupSize], [t].[Price], [t].[Title], [t].[UpdatedAt]\n        FROM [Tours] AS [t]\n        WHERE [t].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t0] ON [b].[TourId] = [t0].[Id]\n    INNER JOIN (\n        SELECT [t1].[Id], [t1].[AvatarFileId], [t1].[Country], [t1].[CreatedAt], [t1].[DeletedAt], [t1].[FullName], [t1].[IsDeleted], [t1].[Phone], [t1].[UpdatedAt], [t1].[UserId]\n        FROM [TouristProfiles] AS [t1]\n        WHERE [t1].[IsDeleted] = CAST(0 AS bit)\n    ) AS [t2] ON [b].[TouristId] = [t2].[Id]\n    INNER JOIN (\n        SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)\n    ) AS [u0] ON [t2].[UserId] = [u0].[Id]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__id_0\n) AS [s]\nLEFT JOIN [RefreshToken] AS [r] ON [s].[Id2] = [r].[UserId]\nORDER BY [s].[Id], [s].[Id0], [s].[Id1], [s].[Id2], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":56}}
{"Timestamp":"2025-12-16T02:12:06.5595815+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"elapsed":"2","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:06.5653499+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"elapsed":"3","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:06.5663550+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":461.9093,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:06.5669573+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cf14f914-afb8-4857-915e-15a24bf8f099","ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:06.5673231+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","ElapsedMilliseconds":463.8304,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:06.5677761+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.CreateCheckout (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:06.5680224+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/Pay/1","StatusCode":200,"Elapsed":467.768833,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC34:00000002","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"467.7688"}]}}
{"Timestamp":"2025-12-16T02:12:06.5685838+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"90d1ac44d5420ba87185f7b86b579d8b","SpanId":"0b7e6f9c230c8961","Properties":{"ElapsedMilliseconds":469.0872,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/Pay/1","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC34:00000002","RequestPath":"/api/Payment/Pay/1","ConnectionId":"0HNHS6SGBOC34","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.3960221+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":3676,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC35:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.3966012+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC35:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.3968627+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC35:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.3977562+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC35:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.3992625+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":1.2673,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC35:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.3996968+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC35:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.3999061+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":2.7196,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC35:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.4001010+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC35:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.4002332+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":3.745121,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC35:00000001","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3.7451"}]}}
{"Timestamp":"2025-12-16T02:12:46.4006240+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b7bccdd763ba16008cc055e46c7f6378","SpanId":"e69ae705f2c92da5","Properties":{"ElapsedMilliseconds":4.6083,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC35:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.4284210+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":1965,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC35:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57}}
{"Timestamp":"2025-12-16T02:12:46.4289713+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC35:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57}}
{"Timestamp":"2025-12-16T02:12:46.4296613+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC35:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57}}
{"Timestamp":"2025-12-16T02:12:46.4315675+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC35:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57}}
{"Timestamp":"2025-12-16T02:12:46.4327988+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":0.9946,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC35:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57}}
{"Timestamp":"2025-12-16T02:12:46.4332230+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC35:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57}}
{"Timestamp":"2025-12-16T02:12:46.4334238+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":3.273,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC35:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57}}
{"Timestamp":"2025-12-16T02:12:46.4336188+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC35:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57}}
{"Timestamp":"2025-12-16T02:12:46.4338237+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":4.99118,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC35:00000002","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"4.9912"}]}}
{"Timestamp":"2025-12-16T02:12:46.4344211+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"039c38a77c6c3e6f06a26152a1210c54","SpanId":"f0a26c789287107e","Properties":{"ElapsedMilliseconds":5.9826,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC35:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":57}}
{"Timestamp":"2025-12-16T02:12:46.6726480+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":4191,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.6732469+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.6735776+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.6745588+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.7663234+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"elapsed":"5","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt]\nFROM [Payments] AS [p]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0 AND [p].[Status] = N'Pending'","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.7725721+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"elapsed":"3","parameters":"@p12='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nUPDATE [Payments] SET [Amount] = @p0, [BookingId] = @p1, [CreatedAt] = @p2, [Currency] = @p3, [DeletedAt] = @p4, [FailureMessage] = @p5, [IsDeleted] = @p6, [PaymentDate] = @p7, [Provider] = @p8, [Status] = @p9, [TransactionId] = @p10, [UpdatedAt] = @p11\nOUTPUT 1\nWHERE [Id] = @p12;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.7739990+02:00","Level":"Warning","MessageTemplate":"[Webhook] Payment failed for PaymentIntent {IntentId}","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"IntentId":"pi_3Selsf0FNVPpsn1h0APAQUTS","SourceContext":"TouristsService.PaymentService","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.7742725+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":98.9084,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.7746894+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"7e8ac5b1-e97d-4871-9345-535b43ad91d4","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.7750628+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":101.2708,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.7752725+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:12:46.7754984+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":102.341909,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS6SGBOC35:00000003","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"102.3419"}]}}
{"Timestamp":"2025-12-16T02:12:46.7761111+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"330a7ba041ab3ce652f263f1627906e4","SpanId":"8ce1ea0b7e655d0c","Properties":{"ElapsedMilliseconds":103.4299,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS6SGBOC35:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS6SGBOC35","MachineName":"linux","ThreadId":55}}
{"Timestamp":"2025-12-16T02:14:28.0070933+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:85125:5738352c caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":56},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:85125:5738352c caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T02:14:28.0109265+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":56}}
{"Timestamp":"2025-12-16T02:14:28.5257311+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:85125:5738352c caught stopped signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":52},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:85125:5738352c caught stopped signal..."}]}}
{"Timestamp":"2025-12-16T02:14:28.5686531+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:85125:5738352c All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:85125:5738352c All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T02:14:28.5753083+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:85125:5738352c successfully reported itself as stopped in 4.4493 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:85125:5738352c successfully reported itself as stopped in 4.4493 ms"}]}}
{"Timestamp":"2025-12-16T02:14:28.5754968+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:85125:5738352c has been stopped in total 564.9315 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:85125:5738352c has been stopped in total 564.9315 ms"}]}}
{"Timestamp":"2025-12-16T02:27:20.7010622+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository; keys will not be encrypted at rest.","Properties":{"FullName":"/home/omarabdo/.aspnet/DataProtection-Keys","EventId":{"Id":62,"Name":"UsingProfileAsKeyRepository"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:27:23.4152033+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"GuideProfile","declaringEntityType":"GuideLanguage","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:27:23.4169355+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserConnection","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:27:23.4173717+02:00","Level":"Warning","MessageTemplate":"Entity '{principalEntityType}' has a global query filter defined and is the required end of a relationship with the entity '{declaringEntityType}'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.","Properties":{"principalEntityType":"User","declaringEntityType":"UserGroup","EventId":{"Id":10622,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.PossibleIncorrectRequiredNavigationWithQueryFilterInteractionWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","MachineName":"linux","ThreadId":1}}
{"Timestamp":"2025-12-16T02:27:25.2329874+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"126","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:25.2859802+02:00","Level":"Information","MessageTemplate":"Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.","Properties":{"EventId":{"Id":20411,"Name":"Microsoft.EntityFrameworkCore.Migrations.AcquiringMigrationLock"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:25.3891478+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"93","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:25.6387998+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"20","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL\nBEGIN\n    CREATE TABLE [__EFMigrationsHistory] (\n        [MigrationId] nvarchar(150) NOT NULL,\n        [ProductVersion] nvarchar(32) NOT NULL,\n        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])\n    );\nEND;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:27:25.6902390+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:25.6949697+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT OBJECT_ID(N'[__EFMigrationsHistory]');","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":11}}
{"Timestamp":"2025-12-16T02:27:25.7186087+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [MigrationId], [ProductVersion]\nFROM [__EFMigrationsHistory]\nORDER BY [MigrationId];","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:25.7867184+02:00","Level":"Information","MessageTemplate":"No migrations were applied. The database is already up to date.","Properties":{"EventId":{"Id":20405,"Name":"Microsoft.EntityFrameworkCore.Migrations.MigrationsNotApplied"},"SourceContext":"Microsoft.EntityFrameworkCore.Migrations","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:25.8241874+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"DECLARE @result int;\r\nEXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';\r\nSELECT @result","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:26.4651472+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT CASE\n    WHEN EXISTS (\n        SELECT 1\n        FROM [Users] AS [u]\n        WHERE [u].[IsDeleted] = CAST(0 AS bit)) THEN CAST(1 AS bit)\n    ELSE CAST(0 AS bit)\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":14}}
{"Timestamp":"2025-12-16T02:27:26.9013939+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"30","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:27.3833258+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":5},"Renderings":{"State":[{"Format":"l","Rendering":"Start installing Hangfire SQL objects..."}]}}
{"Timestamp":"2025-12-16T02:27:27.4639035+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller","MachineName":"linux","ThreadId":5},"Renderings":{"State":[{"Format":"l","Rendering":"Hangfire SQL objects installed."}]}}
{"Timestamp":"2025-12-16T02:27:28.3860225+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:8000","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:28.4112620+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":5},"Renderings":{"State":[{"Format":"l","Rendering":"Starting Hangfire Server using job storage: 'SQL Server: localhost,1433@TouristsDB'"}]}}
{"Timestamp":"2025-12-16T02:27:28.4126534+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":5},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."}]}}
{"Timestamp":"2025-12-16T02:27:28.4134472+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer","MachineName":"linux","ThreadId":5},"Renderings":{"State":[{"Format":"l","Rendering":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"}]}}
{"Timestamp":"2025-12-16T02:27:28.4559480+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:28.4566286+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:28.4569580+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/home/omarabdo/Desktop/TouristsAPI/TouristsAPI","SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:28.4763938+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:89539:f0ff221f successfully announced in 19.7839 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:89539:f0ff221f successfully announced in 19.7839 ms"}]}}
{"Timestamp":"2025-12-16T02:27:28.4824345+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:89539:f0ff221f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:89539:f0ff221f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, SqlServerHeartbeatProcess, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."}]}}
{"Timestamp":"2025-12-16T02:27:28.5226537+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:89539:f0ff221f all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:89539:f0ff221f all the dispatchers started"}]}}
{"Timestamp":"2025-12-16T02:27:31.9284139+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:32.0749063+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"RequestMethod":"GET","RequestPath":"/","StatusCode":404,"Elapsed":43.645888,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42O:00000001","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.6459"}]}}
{"Timestamp":"2025-12-16T02:27:32.0911607+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:32.1146150+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"RouteData":"{action = \"Error\", controller = \"Error\"}","MethodInfo":"Microsoft.AspNetCore.Mvc.ActionResult Error(Int32)","Controller":"TouristsAPI.Controllers.ErrorController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b621a240-9f80-442d-98d3-60e1e1a46658","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:32.1417231+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b621a240-9f80-442d-98d3-60e1e1a46658","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:32.1526612+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.NotFoundObjectResult","ElapsedMilliseconds":1.4758,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b621a240-9f80-442d-98d3-60e1e1a46658","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:32.1742279+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"ObjectResultType":"NotFoundObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b621a240-9f80-442d-98d3-60e1e1a46658","ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:32.2190259+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"ActionName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","ElapsedMilliseconds":94.908,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:32.2197299+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"EndpointName":"TouristsAPI.Controllers.ErrorController.Error (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:32.2201164+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"RequestMethod":"GET","RequestPath":"/error/404","StatusCode":404,"Elapsed":131.955451,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42O:00000001","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"131.9555"}]}}
{"Timestamp":"2025-12-16T02:27:32.2234025+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"ElapsedMilliseconds":295.1362,"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:32.2246514+02:00","Level":"Information","MessageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","TraceId":"2eae87394179bae8691b12decf1080b5","SpanId":"48d87db6c4c01896","Properties":{"Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000001","RequestPath":"/","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:27:39.3524718+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"adc4487e7ac4779df855796f162c7934","SpanId":"62772196b4306ee5","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000002","RequestPath":"/swagger/index.html","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:39.4631586+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"adc4487e7ac4779df855796f162c7934","SpanId":"62772196b4306ee5","Properties":{"ElapsedMilliseconds":110.7154,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000002","RequestPath":"/swagger/index.html","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:39.7468231+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dba7b1a5cab9d5520a189e296e2c8a1d","SpanId":"5a0049c7f72899b9","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:27:39.9828982+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dba7b1a5cab9d5520a189e296e2c8a1d","SpanId":"5a0049c7f72899b9","Properties":{"ElapsedMilliseconds":236.0711,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":5}}
{"Timestamp":"2025-12-16T02:28:05.6912393+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":64,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:05.7016623+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:05.7053395+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"EndpointName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:05.7168563+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(TouristsCore.DTOS.Accounts.LoginDto)","Controller":"TouristsAPI.Controllers.AuthController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"882fe02f-f2c4-49d3-80a8-395c991fc203","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:05.7550090+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"882fe02f-f2c4-49d3-80a8-395c991fc203","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:05.8123607+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"elapsed":"2","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[IsActive], [u0].[IsDeleted], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UpdatedAt], [u0].[UserName], [r].[UserId], [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[RevokedOn], [r].[Token]\nFROM (\n    SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[IsActive], [u].[IsDeleted], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UpdatedAt], [u].[UserName]\n    FROM [Users] AS [u]\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[NormalizedEmail] = @__normalizedEmail_0\n) AS [u0]\nLEFT JOIN [RefreshToken] AS [r] ON [u0].[Id] = [r].[UserId]\nORDER BY [u0].[Id], [r].[UserId]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"882fe02f-f2c4-49d3-80a8-395c991fc203","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":45}}
{"Timestamp":"2025-12-16T02:28:06.0736447+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [r].[Name]\nFROM [UserRoles] AS [u]\nINNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"882fe02f-f2c4-49d3-80a8-395c991fc203","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:06.2615914+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\nSET NOCOUNT ON;\nINSERT INTO [RefreshToken] ([UserId], [CreatedOn], [ExpiresOn], [RevokedOn], [Token])\nOUTPUT INSERTED.[Id]\nVALUES (@p0, @p1, @p2, @p3, @p4);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"882fe02f-f2c4-49d3-80a8-395c991fc203","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":46}}
{"Timestamp":"2025-12-16T02:28:06.3011945+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT [r].[Name]\nFROM [UserRoles] AS [u]\nINNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]\nWHERE [u].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"882fe02f-f2c4-49d3-80a8-395c991fc203","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:06.3373216+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":581.9306,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"882fe02f-f2c4-49d3-80a8-395c991fc203","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:06.3416070+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"ObjectResultType":"OkObjectResult","Type":"TouristsCore.DTOS.Accounts.AuthResponseDto","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"882fe02f-f2c4-49d3-80a8-395c991fc203","ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:06.3738315+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"ActionName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","ElapsedMilliseconds":656.5874,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:06.3761364+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"EndpointName":"TouristsAPI.Controllers.AuthController.LoginAsync (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:06.3820636+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"RequestMethod":"POST","RequestPath":"/api/Auth/Login","StatusCode":200,"Elapsed":679.494899,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42O:00000004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"679.4949"}]}}
{"Timestamp":"2025-12-16T02:28:06.4003633+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38774763bc83db98ffb5078015fca432","SpanId":"4e1c41e36003dc5c","Properties":{"ElapsedMilliseconds":709.1054,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000004","RequestPath":"/api/Auth/Login","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:45.6595741+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/refund/1","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:45.6632044+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:45.7516863+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:45.7606615+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"RouteData":"{action = \"Refund\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refund(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:45.7650478+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:45.9053872+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"elapsed":"8","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt], [b0].[Id], [b0].[BookingDate], [b0].[CreatedAt], [b0].[DeletedAt], [b0].[EndAt], [b0].[IsDeleted], [b0].[PriceAtBooking], [b0].[StartAt], [b0].[Status], [b0].[TicketCount], [b0].[TourId], [b0].[TourScheduleId], [b0].[TouristId], [b0].[UpdatedAt]\nFROM [Payments] AS [p]\nINNER JOIN (\n    SELECT [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt]\n    FROM [Bookings] AS [b]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\n) AS [b0] ON [p].[BookingId] = [b0].[Id]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:46.0388581+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":273.5596,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:46.0394569+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:46.0399065+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","ElapsedMilliseconds":278.9904,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:46.0402940+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:28:46.0406824+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/refund/1","StatusCode":400,"Elapsed":377.249939,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42O:00000005","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"377.2499"}]}}
{"Timestamp":"2025-12-16T02:28:46.0436878+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"adda690f63e2b1855f3b04c1772f2419","SpanId":"a8282e9d7dddff61","Properties":{"ElapsedMilliseconds":384.0522,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/refund/1","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000005","RequestPath":"/api/Payment/refund/1","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1646481+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/refund/1003","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1659250+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1691972+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1694506+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"RouteData":"{action = \"Refund\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refund(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1711227+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1749878+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"elapsed":"1","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt], [b0].[Id], [b0].[BookingDate], [b0].[CreatedAt], [b0].[DeletedAt], [b0].[EndAt], [b0].[IsDeleted], [b0].[PriceAtBooking], [b0].[StartAt], [b0].[Status], [b0].[TicketCount], [b0].[TourId], [b0].[TourScheduleId], [b0].[TouristId], [b0].[UpdatedAt]\nFROM [Payments] AS [p]\nINNER JOIN (\n    SELECT [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt]\n    FROM [Bookings] AS [b]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\n) AS [b0] ON [p].[BookingId] = [b0].[Id]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1758785+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.BadRequestObjectResult","ElapsedMilliseconds":4.4841,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1765116+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"TouristsAPI.ErrorResponses.ApiErrorResponse","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1768657+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","ElapsedMilliseconds":7.1212,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1771255+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:05.1773220+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/refund/1003","StatusCode":400,"Elapsed":11.162732,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42O:00000006","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"11.1627"}]}}
{"Timestamp":"2025-12-16T02:29:05.1778594+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"880fb1a059bb9482aa90ae768d10a995","SpanId":"18ee3f2972f8836b","Properties":{"ElapsedMilliseconds":13.1917,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/refund/1003","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000006","RequestPath":"/api/Payment/refund/1003","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:10.9984120+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":null,"ContentLength":0,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/refund/1004","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:10.9988396+02:00","Level":"Information","MessageTemplate":"No CORS policy found for the specified request.","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"EventId":{"Id":10,"Name":"NoCorsPolicyFound"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:11.0038987+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:11.0042152+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"RouteData":"{action = \"Refund\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refund(Int32)","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:11.0100001+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:11.0144896+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"elapsed":"1","parameters":"@__bookingId_0='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [p].[Id], [p].[Amount], [p].[BookingId], [p].[CreatedAt], [p].[Currency], [p].[DeletedAt], [p].[FailureMessage], [p].[IsDeleted], [p].[PaymentDate], [p].[Provider], [p].[Status], [p].[TransactionId], [p].[UpdatedAt], [b0].[Id], [b0].[BookingDate], [b0].[CreatedAt], [b0].[DeletedAt], [b0].[EndAt], [b0].[IsDeleted], [b0].[PriceAtBooking], [b0].[StartAt], [b0].[Status], [b0].[TicketCount], [b0].[TourId], [b0].[TourScheduleId], [b0].[TouristId], [b0].[UpdatedAt]\nFROM [Payments] AS [p]\nINNER JOIN (\n    SELECT [b].[Id], [b].[BookingDate], [b].[CreatedAt], [b].[DeletedAt], [b].[EndAt], [b].[IsDeleted], [b].[PriceAtBooking], [b].[StartAt], [b].[Status], [b].[TicketCount], [b].[TourId], [b].[TourScheduleId], [b].[TouristId], [b].[UpdatedAt]\n    FROM [Bookings] AS [b]\n    WHERE [b].[IsDeleted] = CAST(0 AS bit)\n) AS [b0] ON [p].[BookingId] = [b0].[Id]\nWHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[BookingId] = @__bookingId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":15}}
{"Timestamp":"2025-12-16T02:29:12.8742354+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":1104,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42P:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:12.8748491+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42P:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:12.8796862+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS77JFE42P:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:12.8803479+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","RequestId":"0HNHS77JFE42P:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:12.9303604+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"elapsed":"3","parameters":"@p1='?' (DbType = Int32), @p0='?' (Size = 4000), @p14='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SET NOCOUNT ON;\nUPDATE [Bookings] SET [Status] = @p0\nOUTPUT 1\nWHERE [Id] = @p1;\nUPDATE [Payments] SET [Amount] = @p2, [BookingId] = @p3, [CreatedAt] = @p4, [Currency] = @p5, [DeletedAt] = @p6, [FailureMessage] = @p7, [IsDeleted] = @p8, [PaymentDate] = @p9, [Provider] = @p10, [Status] = @p11, [TransactionId] = @p12, [UpdatedAt] = @p13\nOUTPUT 1\nWHERE [Id] = @p14;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9421602+02:00","Level":"Information","MessageTemplate":"[Refund] Successfully refunded booking 1004","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"SourceContext":"TouristsService.PaymentService","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9425390+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkObjectResult","ElapsedMilliseconds":1932.2764,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9429987+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"ObjectResultType":"OkObjectResult","Type":"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"1e785f66-e4f8-4ccc-b270-a3df06cef230","ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9454436+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","ElapsedMilliseconds":1940.9016,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9456732+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.Refund (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9458398+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"RequestMethod":"POST","RequestPath":"/api/Payment/refund/1004","StatusCode":200,"Elapsed":1946.709176,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42O:00000007","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":47},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1946.7092"}]}}
{"Timestamp":"2025-12-16T02:29:12.9463258+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ee7fa5a59cc58e32cb5c474bade3434f","SpanId":"4ad956723957c986","Properties":{"ElapsedMilliseconds":1947.9109,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/Payment/refund/1004","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42O:00000007","RequestPath":"/api/Payment/refund/1004","ConnectionId":"0HNHS77JFE42O","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9601392+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":79.5706,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","RequestId":"0HNHS77JFE42P:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:12.9661727+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS77JFE42P:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:12.9664790+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":86.5049,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS77JFE42P:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:12.9666864+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42P:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:12.9668532+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":92.130951,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42P:00000001","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"92.1310"}]}}
{"Timestamp":"2025-12-16T02:29:12.9673052+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"014ccc16bd11d6ff907724ed63f602e6","SpanId":"14200368aa09804c","Properties":{"ElapsedMilliseconds":93.0555,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42P:00000001","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:12.9703706+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":4044,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42P:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9711903+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42P:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9714122+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS77JFE42P:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:12.9721890+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","RequestId":"0HNHS77JFE42P:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:13.1387105+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":166.2848,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","RequestId":"0HNHS77JFE42P:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:13.1394284+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS77JFE42P:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:13.1396372+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":167.9788,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS77JFE42P:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:13.1398716+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42P:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:13.1400382+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":169.019695,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42P:00000002","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"169.0197"}]}}
{"Timestamp":"2025-12-16T02:29:13.1404468+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3c4bbe89088b1c6c427ba24d1dd361fb","SpanId":"6d1812fc02c2137b","Properties":{"ElapsedMilliseconds":170.0558,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42P:00000002","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":47}}
{"Timestamp":"2025-12-16T02:29:14.4225357+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":1240,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42P:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4238157+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42P:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4244355+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS77JFE42P:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4263523+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","RequestId":"0HNHS77JFE42P:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4307660+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":3.9232,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","RequestId":"0HNHS77JFE42P:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4314222+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS77JFE42P:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4316947+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":6.7062,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS77JFE42P:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4321460+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42P:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4323861+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":8.782808,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42P:00000003","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8.7828"}]}}
{"Timestamp":"2025-12-16T02:29:14.4329478+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bbfc947e28f6491815b43636e6665d7b","SpanId":"d8e934db33a0f3f9","Properties":{"ElapsedMilliseconds":10.337,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42P:00000003","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4946717+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json; charset=utf-8","ContentLength":1247,"Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42P:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4956892+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42P:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4961544+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"RouteData":"{action = \"StripeWebhook\", controller = \"Payment\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] StripeWebhook()","Controller":"TouristsAPI.Controllers.PaymentController","AssemblyName":"TouristsAPI","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS77JFE42P:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.4976028+02:00","Level":"Information","MessageTemplate":"Executing action method {ActionName} - Validation state: {ValidationState}","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ValidationState":"Valid","EventId":{"Id":101,"Name":"ActionMethodExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","RequestId":"0HNHS77JFE42P:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.5020387+02:00","Level":"Information","MessageTemplate":"Executed action method {ActionName}, returned result {ActionResult} in {ElapsedMilliseconds}ms.","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ActionResult":"Microsoft.AspNetCore.Mvc.OkResult","ElapsedMilliseconds":3.9701,"EventId":{"Id":103,"Name":"ActionMethodExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","RequestId":"0HNHS77JFE42P:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.5026176+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"StatusCode":200,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"3e95316a-3fe0-46f7-8d4d-472bf4137fea","ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","RequestId":"0HNHS77JFE42P:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.5029522+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"ActionName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","ElapsedMilliseconds":6.2337,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNHS77JFE42P:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.5032695+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"EndpointName":"TouristsAPI.Controllers.PaymentController.StripeWebhook (TouristsAPI)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNHS77JFE42P:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:29:14.5035389+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"RequestMethod":"POST","RequestPath":"/api/payment/webhook","StatusCode":200,"Elapsed":8.053805,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNHS77JFE42P:00000004","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"8.0538"}]}}
{"Timestamp":"2025-12-16T02:29:14.5052487+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10fd5cf5989c1430d6ead265ecfcc5b2","SpanId":"a9b7d0450790cb64","Properties":{"ElapsedMilliseconds":10.5783,"StatusCode":200,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:8000","PathBase":"","Path":"/api/payment/webhook","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNHS77JFE42P:00000004","RequestPath":"/api/payment/webhook","ConnectionId":"0HNHS77JFE42P","MachineName":"linux","ThreadId":48}}
{"Timestamp":"2025-12-16T02:32:31.8808598+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:89539:f0ff221f caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":52},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:89539:f0ff221f caught stopping signal..."}]}}
{"Timestamp":"2025-12-16T02:32:31.8849952+02:00","Level":"Information","MessageTemplate":"Application is shutting down...","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime","MachineName":"linux","ThreadId":52}}
{"Timestamp":"2025-12-16T02:32:32.4006379+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:89539:f0ff221f caught stopped signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":53},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:89539:f0ff221f caught stopped signal..."}]}}
{"Timestamp":"2025-12-16T02:32:32.5395009+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:89539:f0ff221f All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:89539:f0ff221f All dispatchers stopped"}]}}
{"Timestamp":"2025-12-16T02:32:32.5484816+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:89539:f0ff221f successfully reported itself as stopped in 6.1205 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:89539:f0ff221f successfully reported itself as stopped in 6.1205 ms"}]}}
{"Timestamp":"2025-12-16T02:32:32.5486438+02:00","Level":"Information","MessageTemplate":"{State:l}","Properties":{"State":"Server linux:89539:f0ff221f has been stopped in total 664.0005 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess","MachineName":"linux","ThreadId":13},"Renderings":{"State":[{"Format":"l","Rendering":"Server linux:89539:f0ff221f has been stopped in total 664.0005 ms"}]}}
